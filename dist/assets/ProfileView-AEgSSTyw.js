import{_ as x,j as _,c as g,a as t,t as y,n as I,g as r,F as T,b as U,m as S,e as p,f as a,r as d,o as l,l as h,p as B,i as R}from"./index-fVGjq41M.js";const A={data(){const s=parseInt(this.$route.params.id),o=_.getContactor(s);return{activeContactor:o,openaiSettings:this.getShownOpenAISettings(o.options),currentDelay:0,centerDialogVisible:!1,sliderTypeARange:[0,1,.1],sliderTypeBRange:[-2,2,.2]}},mounted(){console.log(this.activeContactor),setInterval(()=>{this.currentDelay=_.socket.delay},3e3)},computed:{getDelayStatus(){return this.currentDelay>1e3?"high":this.currentDelay>500?"mid":this.currentDelay>100?"low":"ultra"}},watch:{"$route.params.id"(s){this.activeContactor=_.getContactor(s)}},methods:{getShownOpenAISettings(s){const o=["model","max_messages_num","stream","temperature","top_p","frequency_penalty","presence_penalty"],u={};return o.map(v=>{u[v]=s[v]}),console.log(u),u},getShownKey(s){return{model:"模型",max_messages_num:"最大历史消息数",stream:"流式响应",temperature:"温度 (temperature)",top_p:"核采样 (top_p)",frequency_penalty:"频率惩罚度 (frequency_penalty)",presence_penalty:"话题新鲜度 (presence_penalty)"}[s]},delContactor(){this.centerDialogVisible=!1,_.rmContactor(this.activeContactor.id),this.$router.push("/contactors")}}},V=s=>(B("data-v-9b54c158"),s=s(),R(),s),N={id:"profile"},k={class:"profile-container"},q={class:"base-info"},K={class:"base-info-avatar"},O=["src"],F={class:"base-info-content"},M={class:"name"},j={class:"id"},z={class:"status"},E={class:"info-blocks"},L={key:0,class:"openai-settings"},P=V(()=>t("div",{class:"block-title"},"OpenAI 协议配置",-1)),G={class:"block-content"},H={class:"item-title"},J={class:"item-content"},Q=V(()=>t("div",{class:"extra-info"},null,-1)),W={class:"action-bar"},X=V(()=>t("span",null," 确认要删除此好友吗？该操作不可逆。 ",-1)),Y={class:"dialog-footer"};function Z(s,o,u,v,e,f){const b=d("el-input"),w=d("el-switch"),C=d("el-slider"),m=d("el-button"),D=d("el-dialog");return l(),g("div",N,[t("div",k,[t("div",q,[t("div",K,[t("img",{src:e.activeContactor.avatar},null,8,O)]),t("div",F,[t("div",M,y(e.activeContactor.name),1),t("div",j,"ID "+y(e.activeContactor.id),1),t("div",z,[t("span",{class:I("delay-status "+f.getDelayStatus)},null,2),r(" 在线 ")])])]),t("div",E,[e.activeContactor.platform=="openai"?(l(),g("div",L,[P,t("div",G,[(l(!0),g(T,null,U(e.openaiSettings,(c,n)=>(l(),g("div",{key:n,class:"block-content-item"},[t("div",H,y(f.getShownKey(n)),1),t("div",J,[["model","max_messages_num"].includes(n)?(l(),h(b,{key:0,modelValue:e.openaiSettings[n],"onUpdate:modelValue":i=>e.openaiSettings[n]=i},null,8,["modelValue","onUpdate:modelValue"])):n=="stream"?(l(),h(w,{key:1,modelValue:e.openaiSettings[n],"onUpdate:modelValue":i=>e.openaiSettings[n]=i},null,8,["modelValue","onUpdate:modelValue"])):["top_p","temperature"].includes(n)?(l(),h(C,{key:2,modelValue:e.openaiSettings[n],"onUpdate:modelValue":i=>e.openaiSettings[n]=i,step:e.sliderTypeARange[2],min:e.sliderTypeARange[0],max:e.sliderTypeARange[1]},null,8,["modelValue","onUpdate:modelValue","step","min","max"])):["frequency_penalty","presence_penalty"].includes(n)?(l(),h(C,{key:3,modelValue:e.openaiSettings[n],"onUpdate:modelValue":i=>e.openaiSettings[n]=i,step:e.sliderTypeBRange[2],min:e.sliderTypeBRange[0],max:e.sliderTypeBRange[1]},null,8,["modelValue","onUpdate:modelValue","step","min","max"])):S("",!0)])]))),128))])])):S("",!0)]),Q,t("div",W,[p(m,{onClick:o[0]||(o[0]=c=>s.$router.push(`/chat/${e.activeContactor.id}`)),type:"primary"},{default:a(()=>[r("发送消息")]),_:1}),p(m,{onClick:o[1]||(o[1]=c=>e.centerDialogVisible=!0),type:"danger"},{default:a(()=>[r("删除好友")]),_:1}),p(D,{modelValue:e.centerDialogVisible,"onUpdate:modelValue":o[3]||(o[3]=c=>e.centerDialogVisible=c),title:"警告",width:"300",center:""},{footer:a(()=>[t("div",Y,[p(m,{onClick:o[2]||(o[2]=c=>e.centerDialogVisible=!1)},{default:a(()=>[r("取消")]),_:1}),p(m,{type:"primary",onClick:f.delContactor},{default:a(()=>[r(" 确认 ")]),_:1},8,["onClick"])])]),default:a(()=>[X]),_:1},8,["modelValue"])])])])}const ee=x(A,[["render",Z],["__scopeId","data-v-9b54c158"]]);export{ee as default};
