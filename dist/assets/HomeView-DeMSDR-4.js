import{_ as u,c as r,C as f,o as c,a as d,b as o,F as v,r as g,t as m,n as C,p as L,d as w,e as p,f as _}from"./index-CzTNpfWp.js";import"//at.alicdn.com/t/c/font_4459318_ioeido0jcz.js";const $={data(){const t=r.contactList;return{onPhone:r.onPhone,contactorList:t}},methods:{showChat(t){this.$router.push({path:"/home/chat/"+t})},getId(t){let e=this.$route.params.id,n=this.contactorList[t].id;return e==n?"active":this.contactorList[t].priority==0?"important":""},genOpenaiContactor(){const e=r.models.map(i=>({value:i.owner,label:i.owner,children:i.models.map(a=>({value:a,label:a}))})),n={id:this.genFakeId(),name:"OpenAI",avatar:"/api/avatar/openai.png",title:"gpt",priority:1,options:{models:r.models,modelsOptions:e,textWarper:{options:e,presets:{default:""}}}};this.addConcator("openai",n)},async addConcator(t,e){const n=new f(t,e);this.contactorList.push(n),await r.setLocalStorage()},genFakeId(){const e=`1${Math.floor(1e3+Math.random()*9e3)}`;if(this.id){const n=Math.floor(1e3+Math.random()*9e3),i=`${this.id}${n}`;return parseInt(i)}else return parseInt(e)}},components:{}},I=t=>(L("data-v-0d62340f"),t=t(),w(),t),b={class:"upsidebar",id:"friends"},k=I(()=>o("div",{class:"search",id:"people"},[o("svg",{t:"1695130526763",class:"listicon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3427"},[o("path",{d:"M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z","p-id":"3428"})]),o("input",{type:"text",id:"tosearch",placeholder:"搜索"})],-1)),y={class:"bu-add"},S={class:"people"},P=["onClick","id"],N={class:"avatar"},x=["src","alt"],M={class:"info"},O={class:"name"},B={class:"msginfo",id:"time"},F={class:"msginfo",id:"msgctt"};function z(t,e,n,i,a,l){return c(),d("div",{id:"friendlists",class:C(a.onPhone?"mobile":"")},[o("div",b,[k,o("div",y,[o("button",{id:"addcont",onClick:e[0]||(e[0]=(...s)=>l.genOpenaiContactor&&l.genOpenaiContactor(...s))},"+")])]),o("div",S,[(c(!0),d(v,null,g(a.contactorList,(s,h)=>(c(),d("div",{onClick:V=>l.showChat(s.id),key:h,class:"lists",id:l.getId(h)},[o("div",N,[o("img",{src:s.avatar,alt:s.name},null,8,x)]),o("div",M,[o("div",O,m(s.name),1),o("div",B,m(s.getLastTime()),1),o("div",F,m(s.getLastContent()),1)])],8,P))),128))])],2)}const D=u($,[["render",z],["__scopeId","data-v-0d62340f"]]),A={data(){return{client:r,onList:null}},components:{friendlist:D},methods:{},mounted(){const t=this.$route;t.name==="toChat"||t.name==="toProfile"?this.onList=!0:t.name==="privateChat"&&(this.onList=!1)},computed:{},watch:{$route:function(t){t.name==="toChat"||t.name==="toProfile"?this.onList=!0:t.name==="privateChat"&&(this.onList=!1)}}},E={key:0,id:"main"},H={key:1,id:"main-mobile"},R={key:2,id:"main-mobile"};function T(t,e,n,i,a,l){const s=_("friendlist"),h=_("router-view");return a.client.onPhone?a.onList||this.$route.name==="home"?(c(),d("div",H,[p(s)])):(c(),d("div",R,[p(h)])):(c(),d("div",E,[p(s),p(h)]))}const q=u(A,[["render",T]]);export{q as default};
