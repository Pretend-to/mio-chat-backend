import{_ as D,i as _,c as g,a as n,t as V,n as x,g as c,F as T,b as U,l as C,e as p,f as a,r as d,o as l,k as v}from"./index-Bo072YnU.js";const B={data(){const s=parseInt(this.$route.params.id),e=_.getContactor(s);return{activeContactor:e,openaiSettings:this.getShownOpenAISettings(e.options),currentDelay:0,centerDialogVisible:!1,sliderTypeARange:[0,1,.1],sliderTypeBRange:[-2,2,.2]}},mounted(){console.log(this.activeContactor),setInterval(()=>{this.currentDelay=_.socket.delay},3e3)},computed:{getDelayStatus(){return this.currentDelay>1e3?"high":this.currentDelay>500?"mid":this.currentDelay>100?"low":"ultra"}},watch:{"$route.params.id"(s){this.activeContactor=_.getContactor(s)}},methods:{getShownOpenAISettings(s){const e=["model","max_messages_num","stream","temperature","top_p","frequency_penalty","presence_penalty"],u={};return e.map(f=>{u[f]=s[f]}),console.log(u),u},getShownKey(s){return{model:"模型",max_messages_num:"最大历史消息数",stream:"流式响应",temperature:"温度 (temperature)",top_p:"核采样 (top_p)",frequency_penalty:"频率惩罚度 (frequency_penalty)",presence_penalty:"话题新鲜度 (presence_penalty)"}[s]},delContactor(){this.centerDialogVisible=!1,_.rmContactor(this.activeContactor.id),this.$router.push("/contactors")}}},I={id:"profile"},R={class:"profile-container"},A={class:"base-info"},k={class:"base-info-avatar"},N=["src"],q={class:"base-info-content"},K={class:"name"},O={class:"id"},F={class:"status"},M={class:"info-blocks"},z={key:0,class:"openai-settings"},E={class:"block-content"},L={class:"item-title"},P={class:"item-content"},j={class:"action-bar"},G={class:"dialog-footer"};function H(s,e,u,f,t,y){const S=d("el-input"),b=d("el-switch"),h=d("el-slider"),m=d("el-button"),w=d("el-dialog");return l(),g("div",I,[n("div",R,[n("div",A,[n("div",k,[n("img",{src:t.activeContactor.avatar},null,8,N)]),n("div",q,[n("div",K,V(t.activeContactor.name),1),n("div",O,"ID "+V(t.activeContactor.id),1),n("div",F,[n("span",{class:x("delay-status "+y.getDelayStatus)},null,2),e[4]||(e[4]=c(" 在线 "))])])]),n("div",M,[t.activeContactor.platform=="openai"?(l(),g("div",z,[e[5]||(e[5]=n("div",{class:"block-title"},"OpenAI 协议配置",-1)),n("div",E,[(l(!0),g(T,null,U(t.openaiSettings,(r,o)=>(l(),g("div",{key:o,class:"block-content-item"},[n("div",L,V(y.getShownKey(o)),1),n("div",P,[["model","max_messages_num"].includes(o)?(l(),v(S,{key:0,modelValue:t.openaiSettings[o],"onUpdate:modelValue":i=>t.openaiSettings[o]=i},null,8,["modelValue","onUpdate:modelValue"])):o=="stream"?(l(),v(b,{key:1,modelValue:t.openaiSettings[o],"onUpdate:modelValue":i=>t.openaiSettings[o]=i},null,8,["modelValue","onUpdate:modelValue"])):["top_p","temperature"].includes(o)?(l(),v(h,{key:2,modelValue:t.openaiSettings[o],"onUpdate:modelValue":i=>t.openaiSettings[o]=i,step:t.sliderTypeARange[2],min:t.sliderTypeARange[0],max:t.sliderTypeARange[1]},null,8,["modelValue","onUpdate:modelValue","step","min","max"])):["frequency_penalty","presence_penalty"].includes(o)?(l(),v(h,{key:3,modelValue:t.openaiSettings[o],"onUpdate:modelValue":i=>t.openaiSettings[o]=i,step:t.sliderTypeBRange[2],min:t.sliderTypeBRange[0],max:t.sliderTypeBRange[1]},null,8,["modelValue","onUpdate:modelValue","step","min","max"])):C("",!0)])]))),128))])])):C("",!0)]),e[11]||(e[11]=n("div",{class:"extra-info"},null,-1)),n("div",j,[p(m,{onClick:e[0]||(e[0]=r=>s.$router.push(`/chat/${t.activeContactor.id}`)),type:"primary"},{default:a(()=>e[6]||(e[6]=[c("发送消息")])),_:1}),p(m,{onClick:e[1]||(e[1]=r=>t.centerDialogVisible=!0),type:"danger"},{default:a(()=>e[7]||(e[7]=[c("删除好友")])),_:1}),p(w,{modelValue:t.centerDialogVisible,"onUpdate:modelValue":e[3]||(e[3]=r=>t.centerDialogVisible=r),title:"警告",width:"300",center:""},{footer:a(()=>[n("div",G,[p(m,{onClick:e[2]||(e[2]=r=>t.centerDialogVisible=!1)},{default:a(()=>e[8]||(e[8]=[c("取消")])),_:1}),p(m,{type:"primary",onClick:y.delContactor},{default:a(()=>e[9]||(e[9]=[c(" 确认 ")])),_:1},8,["onClick"])])]),default:a(()=>[e[10]||(e[10]=n("span",null," 确认要删除此好友吗？该操作不可逆。 ",-1))]),_:1},8,["modelValue"])])])])}const Q=D(B,[["render",H],["__scopeId","data-v-9b54c158"]]);export{Q as default};
