{"version":3,"mappings":"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","names":["_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","ref","key","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_15","style","width","height","position","components","MdPreview","ForwardMsg","InputEditor","ToolCallBar","FileBlock","ReasonBlock","data","currentId","parseInt","this","$route","params","activeContactor","client","getContactor","showwindow","showemoji","userInput","todld","extraOptions","wraperPresets","selectedWraper","currentDelay","toupdate","seletedText","seletedImage","showMenu","menuTop","menuLeft","validMessageIndex","repliedMessage","autoScroll","fullScreen","chatWindowRef","computed","getDelayStatus","activeMessageChain","options","opening","role","content","type","text","time","createTime","messageChain","watch","newVal","oldVal","contactor","initContactor","toButtom","oldId","oldContactor","disableContactor","mounted","document","addEventListener","$refs","chatWindow","scrollHandler","setInterval","socket","delay","updated","beforeUnmount","removeEventListener","methods","handleMouseUp","selectedText","window","getSelection","toString","clicked","setTimeout","scrollTop","scrollHeight","elm","getElementById","$message","cleanScreen","updateFirstMessage","setLocalStorage","emit","message","cleanHistory","isValidInput","input","test","waiting","tolist","$router","push","name","setModel","model","title","loadAvatar","toimg","rect","getBoundingClientRect","html2canvas","windowHeight","then","canvas","img","toDataURL","link","createElement","download","href","click","hasOpening","getFullMessages","showTime","index","list","thisTime","show","getShownTime","separateTextAndImages","markdownText","regex","matches","result","lastIndex","exec","textContent","slice","trim","file","length","getChatwindowScrollheight","clientHeight","active","on","splice","$forceUpdate","async","e","messageIndex","rawMessage","status","error","forEach","element","platform","formatedMessage","loadName","off","getReplyText","find","item","substr","showMessageMenu","event","target","tagName","toLowerCase","imgSrc","src","preventDefault","clientY","clientX","currentSelectedText","messageMenuClick","copyTextToClipboard","textarea","left","value","body","appendChild","select","setSelectionRange","execCommand","err","removeChild","copyImageToClipboard","fetch","response","ok","Error","blob","Image","url","URL","createObjectURL","onload","getContext","drawImage","toBlob","pngBlob","ClipboardItem","navigator","clipboard","write","catch","revokeObjectURL","downloadImage","_openBlock","_createElementBlock","_createElementVNode","onClick","$event","$options","_ctx","$data","_createTextVNode","_toDisplayString","_normalizeClass","_hoisted_5","_Fragment","_renderList","ref_for","_hoisted_6","_createCommentVNode","_hoisted_8","avatar","alt","_hoisted_11","_hoisted_13","onMouseup","args","onContextmenu","elmIndex","_createBlock","_component_MdPreview","_component_el_image","fit","_component_ForwardMsg","messages","_component_FileBlock","_component_ReasonBlock","endTime","startTime","_hoisted_16","_cache","_component_ToolCallBar","tool_call","_normalizeStyle","top","_withModifiers","_hoisted_17","_createVNode","_component_InputEditor","onStroge","onSetModel","onCleanScreen","onCleanHistory","onSendMessage","onToButtom","router","createRouter","history","createWebHistory","routes","path","component","__vitePreload","Promise","resolve","HomeView$1","children","BlankView$1","ChatView","ProfileView$1","AuthView$1","SettingsView$1","beforeEach","to","everLogin","getLoginHistory","ElMessage","warning","friendlist","onPhone","innerWidth","pagePath","_component_friendlist","_component_router_view","loaded","created","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","PresetsList","openaiSettings","getShownOpenAISettings","centerDialogVisible","sliderTypeARange","sliderTypeBRange","sliderTypeCRange","showPresetsDetail","showToolsDetail","presetHistory","openaiTools","config","toolsList","handleToolConfig","tools","filter","tool","enabled","map","loadToolsList","enabledTools","description","includes","updateOpenaiPresets","presets","setOpenaiPresets","updateOpenaiOptions","shownSettings","getShownKey","enable_tool_call","max_messages_num","stream","temperature","top_p","frequency_penalty","presence_penalty","delContactor","rmContactor","_component_el_input","modelValue","onChange","_component_el_switch","_component_el_slider","step","min","max","t","viewBox","version","xmlns","d","_component_PresetsList","onUpdatePresetsHistory","_component_el_button","default","_withCtx","_","_component_el_dialog","center","footer","accessCode","requesting","iconContainer","login","code","nextTick","classList","add","success","is_admin","handleEnter","onUnmounted","onMounted","reset","plain"],"ignoreList":[],"sources":["../../../src/views/ChatView.vue","../../../src/router/index.js","../../../src/views/HomeView.vue","../../../src/views/BlankView.vue","../../../src/views/ProfileView.vue","../../../src/views/AuthView.vue","../../../src/views/SettingsView.vue"],"sourcesContent":["<script>\nimport { MdPreview } from \"md-editor-v3\";\nimport ForwardMsg from \"@/components/ForwardMsg.vue\";\nimport InputEditor from \"@/components/InputEditor.vue\";\nimport FileBlock from \"@/components/FileBlock.vue\";\nimport ToolCallBar from \"@/components/ToolCallBar.vue\";\nimport ReasonBlock from \"@/components/ReasonBlock.vue\";\nimport \"emoji-picker-element\";\nimport html2canvas from \"html2canvas\";\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  components: {\n    MdPreview,\n    ForwardMsg,\n    InputEditor,\n    ToolCallBar,\n    FileBlock,\n    ReasonBlock,\n  },\n  data() {\n    const currentId = parseInt(this.$route.params.id);\n    const contactor = client.getContactor(currentId);\n\n    return {\n      activeContactor: contactor,\n      showwindow: true,\n      showemoji: false,\n      userInput: \"\",\n      todld: false,\n      client: client,\n      extraOptions: [],\n      wraperPresets: {},\n      selectedWraper: null,\n      currentDelay: 0,\n      toupdate: false,\n      seletedText: \"\",\n      seletedImage: \"\",\n      showMenu: false,\n      menuTop: 0,\n      menuLeft: 0,\n      validMessageIndex: -1,\n      repliedMessage: null,\n      autoScroll: false,\n      fullScreen: false,\n      chatWindowRef: null,\n    };\n  },\n  computed: {\n    getDelayStatus() {\n      return this.currentDelay > 1000\n        ? \"high\"\n        : this.currentDelay > 500\n          ? \"mid\"\n          : this.currentDelay > 100\n            ? \"low\"\n            : \"ultra\";\n    },\n    activeMessageChain() {\n      return this.activeContactor.options.opening\n        ? [\n            {\n              role: \"other\",\n              content: [\n                {\n                  type: \"text\",\n                  data: {\n                    text: this.activeContactor.options.opening,\n                  },\n                },\n              ],\n              time: this.activeContactor.createTime,\n            },\n            ...this.activeContactor.messageChain,\n          ]\n        : this.activeContactor.messageChain;\n    },\n  },\n  watch: {\n    [\"$route.params.id\"](newVal, oldVal) {\n      const currentId = parseInt(newVal);\n      const contactor = client.getContactor(currentId);\n      this.activeContactor = contactor;\n      this.initContactor(this.activeContactor);\n      if (this.chatWindowRef) this.toButtom();\n      if (oldVal) {\n        const oldId = parseInt(oldVal);\n        const oldContactor = client.getContactor(oldId);\n        this.disableContactor(oldContactor);\n      }\n    },\n  },\n  mounted() {\n    console.log(\"ChatView mounted\");\n    document.addEventListener(\"click\", () => {\n      this.showMenu = false;\n      this.seletedText = \"\";\n      this.seletedImage = \"\";\n      // if( this.showemoji) this.showemoji = false;\n    });\n    this.chatWindowRef = this.$refs.chatWindow;\n    console.log(this.$refs);\n    this.chatWindowRef.addEventListener(\"scroll\", this.scrollHandler);\n\n    console.log(this.activeContactor);\n    this.toButtom();\n\n    const currentId = this.$route.params.id;\n    const contactor = client.getContactor(currentId);\n    this.initContactor(contactor);\n\n    this.fullScreen = this.client.fullScreen;\n\n    setInterval(() => {\n      this.currentDelay = this.client.socket.delay;\n    }, 3000);\n\n    console.log(contactor.options);\n  },\n  updated() {\n    if (this.toupdate && this.autoScroll) {\n      this.toButtom();\n      this.toupdate = false;\n    }\n  },\n  beforeUnmount() {\n    // 移除事件监听\n    this.disableContactor(this.activeContactor);\n    this.chatWindowRef.removeEventListener(\"scroll\", this.scrollHandler);\n  },\n  methods: {\n    handleMouseUp() {\n      const selectedText = window.getSelection().toString();\n      if (selectedText) {\n        this.seletedText = selectedText;\n        console.log(\"选中的文本：\" + selectedText);\n      }\n    },\n    toButtom(clicked) {\n      setTimeout(() => {\n        if (this.chatWindowRef) {\n          this.chatWindowRef.scrollTop = this.chatWindowRef.scrollHeight;\n        } else {\n          const elm = document.getElementById(\"main-messages-window\");\n          elm.scrollTop = elm.scrollHeight;\n        }\n        if (clicked) this.$message(\"已滑至底部\");\n      }, 20);\n    },\n    cleanScreen() {\n      this.activeContactor.messageChain = [];\n      this.activeContactor.updateFirstMessage();\n      client.setLocalStorage(); //持久化存储\n      this.activeContactor.emit(\"updateMessageSummary\");\n\n      this.toupdate = true;\n      this.$message({ message: \"已清除会话记录\", type: \"success\" });\n    },\n    cleanHistory() {\n      this.activeContactor.updateFirstMessage();\n      this.$message({\n        message: \"上下文信息已清除，之后的请求将不再记录上文记录\",\n        type: \"success\",\n      });\n    },\n\n    isValidInput(input) {\n      // 使用正则表达式检查用户输入是否只包含换行符和空格\n      const regex = /^[ \\n]+$/;\n      const result = !regex.test(input);\n      return result;\n    },\n    waiting() {\n      this.$message({ message: \"此功能尚未开放\", type: \"warning\" });\n    },\n\n    tolist() {\n      this.$router.push({ name: \"home\" });\n    },\n\n    async setModel(name) {\n      this.activeContactor.options.model = name;\n      this.activeContactor.title = name;\n      this.activeContactor.loadAvatar();\n      await client.setLocalStorage(); //持久化存储\n    },\n    toimg() {\n      // 使用html2canvas把 this.chatWindowRef 渲染为图片\n      const rect = this.chatWindowRef.getBoundingClientRect();\n      rect.height = this.chatWindowRef.scrollHeight;\n\n      console.log(rect);\n\n      // 获取当前浏览器真实缩放比例\n\n      html2canvas(this.chatWindowRef, {\n        windowHeight: rect.height * 1.2,\n        width: rect.width,\n        // 例如: allowTaint: true, backgroundColor: null\n      }).then((canvas) => {\n        // 将canvas转换为图片\n        const img = canvas.toDataURL(\"image/png\");\n        // 创建一个a标签，并设置下载属性和下载链接\n        const link = document.createElement(\"a\");\n        link.download = \"chat.png\";\n        link.href = img;\n        // 模拟点击下载\n        link.click();\n      });\n    },\n    hasOpening() {\n      return this.activeContactor.options.opening ? true : false;\n    },\n    getFullMessages() {\n      return this.hasOpening()\n        ? [\n            {\n              role: \"other\",\n              content: [\n                {\n                  type: \"text\",\n                  data: {\n                    text: this.activeContactor.options.opening,\n                  },\n                },\n              ],\n              time: this.activeContactor.createTime,\n            },\n            ...this.activeContactor.messageChain,\n          ]\n        : this.activeContactor.messageChain;\n    },\n    showTime(index) {\n      const list = this.getFullMessages();\n      const thisTime = list[index].time;\n      if (index === 0) {\n        return {\n          show: true,\n          time: this.activeContactor.getShownTime(thisTime),\n        };\n      } else {\n        const earlyTime = list[index - 1].time;\n        if (thisTime - earlyTime > 600000) {\n          return {\n            show: true,\n            time: this.activeContactor.getShownTime(thisTime),\n          };\n        } else {\n          return {\n            show: false,\n            time: \"\",\n          };\n        }\n      }\n    },\n    separateTextAndImages(markdownText) {\n      // 使用正则表达式匹配Markdown图片格式\n      const regex = /!\\[([^\\]]*)\\]\\((.*)\\)/g;\n      let result = [];\n      let lastIndex = 0;\n\n      // 查找所有匹配的图片\n      let matches;\n      while ((matches = regex.exec(markdownText)) !== null) {\n        // 处理匹配到的文本部分\n        if (matches.index > lastIndex) {\n          const textContent = markdownText\n            .slice(lastIndex, matches.index)\n            .trim();\n          if (textContent) {\n            result.push({\n              type: \"text\",\n              data: {\n                text: textContent,\n              },\n            });\n          }\n        }\n\n        // 处理匹配到的图片部分\n        result.push({\n          type: \"image\",\n          data: {\n            // file: matches[2].length > 200 ? matches[2] : `/api/proxy?url=${matches[2]}`,\n            file: matches[2],\n          },\n        });\n\n        // 更新lastIndex到当前匹配结束的位置\n        lastIndex = regex.lastIndex;\n      }\n\n      // 处理最后一部分文本（如果有的话）\n      if (lastIndex < markdownText.length) {\n        const textContent = markdownText.slice(lastIndex).trim();\n        if (textContent) {\n          result.push({\n            type: \"text\",\n            data: {\n              text: textContent,\n            },\n          });\n        }\n      }\n\n      return result;\n    },\n\n    getChatwindowScrollheight() {\n      var scrollTop = this.chatWindowRef.scrollTop; // 当前滚动条的垂直位置\n      var clientHeight = this.chatWindowRef.clientHeight; // 可视区域高度\n      var scrollHeight = this.chatWindowRef.scrollHeight; // 内容总高度\n\n      // 计算滚动位置的实际像素长度\n      var scrollPercentage = scrollTop / (scrollHeight - clientHeight);\n      var height = scrollPercentage * scrollHeight;\n\n      return scrollHeight - height;\n    },\n\n    initContactor(contactor) {\n      contactor.active = true;\n\n      contactor.on(\"revMessage\", (message) => {\n        this.activeContactor.messageChain.push(message);\n        this.toupdate = true;\n      });\n      contactor.on(\"delMessage\", (index) => {\n        console.log(`删除消息${index}`);\n        // 从消息链中删除消息\n        this.activeContactor.messageChain.splice(index, 1);\n        this.toupdate = true;\n      });\n\n      contactor.on(\"updateMessage\", () => {\n        this.$forceUpdate();\n        this.toupdate = true;\n      });\n\n      contactor.on(`completeMessage`, async (e) => {\n        const messageIndex = e.index;\n        const rawMessage = this.activeContactor.messageChain[messageIndex];\n        rawMessage.status = \"completed\";\n        if (!e.error) {\n          rawMessage.content.forEach((element, index) => {\n            if (\n              element.type === \"text\" &&\n              this.activeContactor.platform === \"onebot\"\n            ) {\n              const formatedMessage = this.separateTextAndImages(\n                element.data.text,\n              );\n              // 把 formatedMessage 里的元素展开到 index 这个位置\n              rawMessage.content.splice(index, 1, ...formatedMessage);\n            }\n          });\n        } else {\n          rawMessage.content = [\n            {\n              type: \"text\",\n              data: {\n                text: e.text,\n              },\n            },\n          ];\n        }\n\n        this.$forceUpdate();\n        this.toupdate = true;\n        await this.activeContactor.loadName();\n        await client.setLocalStorage(); //持久化存储\n      });\n    },\n    disableContactor(contactor) {\n      contactor.active = false;\n      contactor.off(`updateMessage`);\n      contactor.off(`revMessage`);\n      contactor.off(`delMessage`);\n      contactor.off(`completeMessage`);\n    },\n    getReplyText(id) {\n      let content = \"\";\n      const message = this.activeContactor.messageChain.find(\n        (item) => item.id === id,\n      );\n      if (message) {\n        message.content.forEach((element) => {\n          if (element.type === \"text\") {\n            content += element.data.text;\n          } else if (element.type === \"image\") {\n            content += \"[图片]\";\n          }\n        });\n        if (content.length > 20) {\n          return `> ${content.substr(0, 20)}...`;\n        } else {\n          return `> ${content}`;\n        }\n      }\n    },\n    showMessageMenu(event, messageIndex) {\n      // 确定右击的元素类型\n      if (event.target.tagName.toLowerCase() === \"img\") {\n        const imgElement = event.target;\n        const imgSrc = imgElement.src;\n        this.seletedImage = imgSrc;\n      } else {\n        console.log(\"用户右击了非图片元素\");\n      }\n      this.validMessageIndex =\n        this.activeContactor.platform === \"openai\" && this.hasOpening()\n          ? messageIndex - 1\n          : messageIndex;\n      event.preventDefault();\n      this.showMenu = true;\n      this.menuTop = event.clientY;\n      this.menuLeft = event.clientX;\n\n      const currentSelectedText = window.getSelection().toString();\n      if (currentSelectedText) {\n        this.seletedText = currentSelectedText;\n      } else {\n        this.seletedText = \"\";\n      }\n    },\n    messageMenuClick(event) {\n      const copyTextToClipboard = (text) => {\n        const textarea = document.createElement(\"textarea\");\n        textarea.style.position = \"absolute\";\n        textarea.style.left = \"-9999px\"; // Move it off-screen\n        textarea.value = text;\n        document.body.appendChild(textarea);\n        textarea.select();\n        textarea.setSelectionRange(0, 99999); // For mobile devices\n        // Copy the text and remove the textarea\n        try {\n          document.execCommand(\"copy\");\n          this.$message({ message: \"复制成功\", type: \"success\" });\n        } catch (err) {\n          console.error(\"Copy failed:\", err);\n          this.$message({ message: \"复制失败\", type: \"error\" });\n        } finally {\n          document.body.removeChild(textarea);\n        }\n      };\n\n      const copyImageToClipboard = (imgSrc) => {\n        try {\n          fetch(imgSrc)\n            .then((response) => {\n              // 检查响应的状态\n              if (!response.ok) {\n                throw new Error(\"网络错误，无法获取图片\");\n              }\n              return response.blob();\n            })\n            .then((blob) => {\n              // 创建一个图像对象\n              const img = new Image();\n              const url = URL.createObjectURL(blob);\n\n              img.onload = () => {\n                // 创建一个 canvas 元素\n                const canvas = document.createElement(\"canvas\");\n                canvas.width = img.width;\n                canvas.height = img.height;\n\n                // 在 canvas 上绘制图像\n                const ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(img, 0, 0);\n\n                // 将 canvas 转换为 PNG Blob\n                canvas.toBlob((pngBlob) => {\n                  if (pngBlob) {\n                    const item = new ClipboardItem({ \"image/png\": pngBlob });\n                    navigator.clipboard\n                      .write([item])\n                      .then(() => {\n                        this.$message({\n                          message: \"图片已复制到剪贴板\",\n                          type: \"success\",\n                        });\n                      })\n                      .catch((err) => {\n                        console.error(\"Copy image failed:\", err);\n                        this.$message({\n                          message: \"复制图片失败\",\n                          type: \"error\",\n                        });\n                      });\n                  } else {\n                    this.$message({\n                      message: \"转换为 PNG 失败\",\n                      type: \"error\",\n                    });\n                  }\n                  // 释放 object URL\n                  URL.revokeObjectURL(url);\n                }, \"image/png\");\n              };\n\n              img.src = url; // 触发图像加载\n            })\n            .catch((err) => {\n              console.error(\"Fetch error:\", err);\n              this.$message({ message: \"复制图片失败\", type: \"error\" });\n            });\n        } catch (err) {\n          console.error(\"Error while copying image:\", err);\n          this.$message({ message: \"复制图片失败\", type: \"error\" });\n        }\n      };\n\n      const downloadImage = (imgSrc) => {\n        const link = document.createElement(\"a\");\n        link.href = imgSrc;\n        link.download = \"image.png\";\n        link.click();\n      };\n\n      // 处理菜单项点击事件\n      switch (event) {\n        case \"copy\": {\n          let text = \"\";\n          // Construct the text to copy\n          const message =\n            this.activeContactor.messageChain[this.validMessageIndex]; // Corrected typo\n          message.content.forEach((element) => {\n            if (element.type === \"text\") {\n              text += element.data.text;\n            } else if (element.type === \"image\") {\n              text += \"[图片]\";\n            }\n          });\n          copyTextToClipboard(text);\n          break;\n        }\n        case \"copySeletedText\":\n          copyTextToClipboard(this.seletedText);\n          break;\n        case \"copySeletedImage\":\n          copyImageToClipboard(this.seletedImage);\n          break;\n        case \"saveSeletedImage\":\n          downloadImage(this.seletedImage);\n          break;\n        case \"reply\":\n          if (this.activeContactor.platform === \"onebot\") {\n            this.repliedMessage =\n              this.activeContactor.messageChain[this.validMessageIndex];\n            this.$message({ message: \"已引用该消息\", type: \"success\" });\n          } else {\n            this.userInput +=\n              this.getReplyText(\n                this.activeContactor.messageChain[this.validMessageIndex].id,\n              ) + \"\\n\\n\";\n          }\n          break;\n        case \"delete\":\n          if (this.activeContactor.platform === \"onebot\")\n            this.activeContactor.messageChain.splice(this.validMessageIndex, 1);\n          else {\n            this.activeContactor.messageChain.splice(this.validMessageIndex, 1);\n          }\n          this.showMenu = false;\n          break;\n        default:\n          break;\n      }\n      this.seletedText = \"\";\n      this.seletedImage = \"\";\n      this.showMenu = false;\n    },\n    scrollHandler() {\n      this.showMenu = false;\n      if (this.showemoji) this.showemoji = false;\n\n      const scrollHeight = this.getChatwindowScrollheight();\n\n      this.autoScroll = scrollHeight > 300 ? false : true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div id=\"chat-window\">\n    <div class=\"upside-bar\">\n      <div class=\"return\" @click=\"tolist()\">\n        <i class=\"iconfont icon-return\"></i>\n      </div>\n      <div\n        class=\"name-area\"\n        @click=\"$router.push(`/profile/${activeContactor.id}`)\"\n      >\n        {{ activeContactor.name }}\n        <span :class=\"'delay-status ' + getDelayStatus\"></span>\n        <span class=\"delay-num\">当前延迟: {{ currentDelay }} ms</span>\n      </div>\n      <div class=\"options\">\n        <div class=\"share\" @click=\"toimg()\">\n          <i class=\"iconfont icon-share\"></i>\n        </div>\n      </div>\n    </div>\n    <div id=\"main-messages-window\" ref=\"chatWindow\" class=\"message-window\">\n      <div\n        v-for=\"(item, index) of activeMessageChain\"\n        :key=\"index\"\n        ref=\"message\"\n        class=\"message-container\"\n      >\n        <div v-if=\"showTime(index).show\" class=\"message-time\">\n          {{ showTime(index).time }}\n        </div>\n        <div :id=\"item.role\" class=\"message-body\">\n          <div v-if=\"item.role !== 'mio_system'\" class=\"avatar\">\n            <img\n              v-if=\"item.role === 'other'\"\n              :src=\"activeContactor.avatar\"\n              :alt=\"activeContactor.name\"\n              @click=\"$router.push(`/profile/${activeContactor.id}`)\"\n            />\n            <img v-else :src=\"client.avatar\" :alt=\"client.name\" />\n          </div>\n          <div v-if=\"item.role !== 'mio_system'\" class=\"msg\">\n            <div class=\"wholename\">\n              <div\n                v-if=\"\n                  item.role === 'other' ? activeContactor.title : client.title\n                \"\n                class=\"title\"\n              >\n                {{\n                  item.role === \"other\" ? activeContactor.title : client.title\n                }}\n              </div>\n              <div class=\"name\">\n                {{ item.role === \"other\" ? activeContactor.name : client.name }}\n              </div>\n            </div>\n            <div\n              class=\"content\"\n              @mouseup=\"handleMouseUp\"\n              @contextmenu=\"showMessageMenu($event, index)\"\n            >\n              <div\n                v-for=\"(element, elmIndex) of item.content\"\n                :key=\"elmIndex\"\n                class=\"inner-content\"\n              >\n                <MdPreview\n                  v-if=\"element.type === 'text'\"\n                  :no-img-zoom-in=\"false\"\n                  preview-theme=\"github\"\n                  :code-foldable=\"false\"\n                  :model-value=\"element.data.text\"\n                />\n                <el-image\n                  v-else-if=\"element.type === 'image'\"\n                  :src=\"element.data.file\"\n                  :zoom-rate=\"1.2\"\n                  :max-scale=\"7\"\n                  :min-scale=\"0.2\"\n                  :preview-src-list=\"[element.data.file]\"\n                  :initial-index=\"4\"\n                  fit=\"contain\"\n                />\n                <MdPreview\n                  v-else-if=\"element.type === 'reply'\"\n                  preview-theme=\"github\"\n                  :model-value=\"getReplyText(element.data.id)\"\n                />\n                <ForwardMsg\n                  v-else-if=\"element.type === 'nodes'\"\n                  :contactor=\"activeContactor\"\n                  :messages=\"element.data.messages\"\n                />\n                <FileBlock\n                  v-else-if=\"element.type === 'file'\"\n                  :file-url=\"element.data.file\"\n                />\n                <ReasonBlock\n                  v-else-if=\"element.type === 'reason'\"\n                  :end-time=\"element.data.endTime\"\n                  :start-time=\"element.data.startTime\"\n                  :content=\"element.data.text\"\n                />\n                <div\n                  v-else-if=\"element.type === 'blank'\"\n                  class=\"blank-message\"\n                  style=\"width: 10rem; height: 28.8px; position: relative\"\n                >\n                  <span class=\"blank_loader\"></span>\n                </div>\n                <ToolCallBar\n                  v-else-if=\"element.type === 'tool_call'\"\n                  :tool_call=\"element.data\"\n                />\n                <MdPreview\n                  v-else\n                  preview-theme=\"github\"\n                  :model-value=\"'未知的消息类型：\\n```\\n' + element + '\\n```'\"\n                />\n              </div>\n            </div>\n            <div\n              v-if=\"showMenu && validMessageIndex === index\"\n              id=\"message-menu\"\n              :style=\"{ top: menuTop + 'px', left: menuLeft + 'px' }\"\n            >\n              <div @click.stop=\"messageMenuClick('copy')\">\n                <i class=\"iconfont fuzhi\"></i>\n                <span>复制消息</span>\n              </div>\n              <div\n                v-if=\"seletedText\"\n                @click.stop=\"messageMenuClick('copySeletedText')\"\n              >\n                <i class=\"iconfont fuzhi\"></i>\n                <span>复制选中</span>\n              </div>\n              <div\n                v-if=\"seletedImage\"\n                @click.stop=\"messageMenuClick('copySeletedImage')\"\n              >\n                <i class=\"iconfont fuzhi\"></i>\n                <span>复制图片</span>\n              </div>\n              <div\n                v-if=\"seletedImage\"\n                @click.stop=\"messageMenuClick('saveSeletedImage')\"\n              >\n                <i class=\"iconfont fuzhi\"></i>\n                <span>保存图片</span>\n              </div>\n              <div @click.stop=\"messageMenuClick('reply')\">\n                <i class=\"iconfont yinyong\"></i><span>引用消息</span>\n              </div>\n              <div @click.stop=\"messageMenuClick('delete')\">\n                <i class=\"iconfont shanchu\"></i><span>删除消息</span>\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"system-message\">\n            {{ item.content[0].data.text }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <InputEditor\n      ref=\"inputEditor\"\n      :active-contactor=\"activeContactor\"\n      @stroge=\"client.setLocalStorage()\"\n      @set-model=\"setModel\"\n      @clean-screen=\"cleanScreen\"\n      @clean-history=\"cleanHistory\"\n      @send-message=\"toButtom\"\n      @to-buttom=\"toButtom\"\n    />\n  </div>\n</template>\n\n<style lang=\"sass\" scoped>\n$mobile: 600px\n$icon-hover: #09f\n\n#chat-window\n    z-index: 1\n    min-width: 0.0625rem\n    position: relative\n    display: flex\n    flex-grow: 1\n    background-color: #f2f2f2\n    flex-direction: column\n\n    @media (max-width: $mobile)\n        height: 100%\n\n.upside-bar\n    flex-basis: 3.75rem\n    flex-shrink: 0\n    height: 3.75rem\n    display: flex\n    align-items: flex-end\n    justify-content: space-between\n    border-bottom: 0.0625rem solid #ebebeb\n\n    @media (max-width: 600px)\n        background: #00a8ff linear-gradient(to right, #00d2f8, #00a8ff)\n\n        *\n            color: white\n            fill: white\n\n    .return\n        display: none\n\n        &:hover\n            color: $icon-hover\n\n        @media (max-width: $mobile)\n            display: block\n            margin-left: 1rem\n            margin-bottom: .8rem\n\n    .name-area\n        cursor: pointer\n        position: relative\n        margin-left: 1.5rem\n        margin-bottom: 0.5rem\n        display: flex\n        align-items: center\n\n    .options\n        flex-basis: 6rem\n        display: flex\n        height: 100%\n        flex-wrap: wrap\n        flex-direction: row-reverse\n        align-items: flex-end\n\n\n        .share\n            margin-bottom:.4rem\n\n            .iconfont\n                font-size: 1.1rem\n                margin-right: 1rem\n\n                &:hover\n                    color: $icon-hover\n\n            @media (max-width: $mobile)\n                display: flex\n                align-items: flex-end\n                margin-bottom: .6rem\n\n                .iconfont\n                    font-size: 1.5rem\n\n.black-overlay\n    position: fixed\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n    background-color: rgba(0, 0, 0, 0.4)\n    z-index: 1001\n/* z-index 属性设置元素的堆叠顺序。*/\n\n#theimg\n    position: fixed\n    top: 50%\n    left: 50%\n    transform: translate(-50%, -50%)\n    max-height: 75%\n    max-width: 50%\n\n.background img\n    position: absolute\n    top: 50%\n    left: 50%\n    transform: translate(-50%, -50%)\n\n.message-body > .avatar\n  cursor: pointer\n  flex-basis: 2.65rem\n  min-width: 2.65rem\n  height: 2.65rem\n\n\n.avatar > img\n  width: 100%\n  height: 100%\n  border-radius: 50%\n\n\n.window-controls\n    display: flex\n    flex-basis: 100%\n\n    @media (max-width: $mobile)\n        display: none\n\n    .button\n        display: flex\n        justify-content: center\n        padding-top: 0.5rem\n        flex: 0 0 2rem\n\n        &:hover\n            background-color: rgb(231, 231, 231)\n\n        &#close:hover\n            background-color: rgb(255, 0, 0)\n            color: white\n\n\n.button#close:hover svg path\n    fill: #fff\n\n\n.voice-box\n    display: flex\n    width: 11.25rem\n    height: 1.5rem\n    margin: 0.25rem 0\n\n    .icon\n        flex-basis: 1.5rem\n        background-color: rgb(0, 0, 0)\n        display: flex\n        justify-content: center\n        align-items: center\n        border-radius: 50%\n\n    .wave\n        display: flex\n        justify-content: center\n        align-items: center\n        flex-grow: 1\n\n.wave svg\n    height: 1.25rem\n    width: 80%\n\n.loader\n    width: 0.625rem\n    padding: 0.25rem\n    aspect-ratio: 1\n    border-radius: 50%\n    background: rgb(0, 153, 255)\n    --_m: conic-gradient(#0000 10%, #000), linear-gradient(#000 0 0) content-box\n    -webkit-mask: var(--_m)\n    mask: var(--_m)\n    -webkit-mask-composite: source-out\n    mask-composite: subtract\n    animation: l3 1s infinite linear\n    position: absolute\n\n.delay-status\n    width: 0.5rem\n    height: 0.5rem\n    border-radius: 50%\n    margin-left: .3rem\n\n    &:hover + .delay-num\n        display: inline-block\n\n    &.ultra\n        background-color: rgb(53, 233, 146)\n\n    &.low\n        background-color: rgb(255, 204, 0)\n\n    &.mid\n        background-color: rgb(255, 102, 102)\n\n    &.high\n        background-color: #ccc\n\n.delay-num\n    display: none\n    position: absolute\n    font-size: 0.8rem\n    bottom: 0rem\n    background-color: #fff\n    border: 1px dashed #000\n    border-radius: 0.25rem\n    padding: 0.125rem 0.25rem\n    margin-left: 1rem\n    white-space: nowrap\n\n@keyframes l\n    to\n        transform: rotate(1turn)\n\n@media (max-width: 600px)\n    #chatwindow\n        height: 100%\n\n    .upsidebar\n        white-space: nowrap\n        max-width: 7rem\n        text-overflow: ellipsis\n        overflow: hidden\n        background: #00a8ff linear-gradient(to right, #00d2f8, #00a8ff)\n\n    .upsidebar *\n        color: white\n        fill: white\n\n    .delay-num\n        color: black\n\n    .window-controls\n        display: none\n\n    .name-area\n        padding-bottom: 0.25rem\n\n    .input-area\n        overflow-y: auto\n\n    .inputbar\n        flex-basis: 4rem\n\n    .delay-status\n        position: relative\n        top: -.2rem\n</style>\n<style scoped>\n@keyframes move {\n  0% {\n    left: -20%; /* 开始位置 */\n  }\n  100% {\n    left: 120%; /* 结束位置 */\n  }\n}\n\n.blank_loader {\n  width: 10%;\n  height: 200%;\n  position: absolute;\n  background: linear-gradient(\n    to right,\n    rgb(255, 255, 255),\n    rgb(0, 0, 0) 50%,\n    transparent 50%,\n    transparent\n  );\n  top: -50%;\n  transform: rotate(30deg);\n  filter: blur(5px);\n  animation: move 1s linear infinite; /* 每1s循环 */\n}\n</style>\n","import { createRouter, createWebHistory } from \"vue-router\";\nimport { client } from \"@/lib/runtime.js\";\nimport { ElMessage } from \"element-plus\";\nimport ChatView from \"../views/ChatView.vue\";\n\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes: [\n    {\n      path: \"/\",\n      name: \"home\",\n      component: () => import(\"../views/HomeView.vue\"),\n      children: [\n        {\n          path: \"/\",\n          name: \"blank\",\n          component: () => import(\"../views/BlankView.vue\"),\n        },\n        {\n          path: \"/contactors\",\n          name: \"contactors\",\n          component: () => import(\"../views/BlankView.vue\"),\n        },\n        {\n          path: \"/chat/:id\",\n          name: \"chat_view\",\n          component: ChatView,\n        },\n        {\n          path: \"/profile/:id\",\n          name: \"profile_view\",\n          component: () => import(\"../views/ProfileView.vue\"),\n        },\n      ],\n    },\n    {\n      path: \"/auth\",\n      name: \"auth\",\n      component: () => import(\"../views/AuthView.vue\"),\n    },\n    {\n      path: \"/settings\",\n      name: \"settings\",\n      component: () => import(\"../views/SettingsView.vue\"),\n    },\n  ],\n});\n\nrouter.beforeEach(async (to) => {\n  let everLogin = client.everLogin;\n\n  if (!everLogin) everLogin = await client.getLoginHistory();\n  if (\n    // 检查用户是否已登录\n    !everLogin &&\n    // ❗️ 避免无限重定向\n    to.name !== \"auth\" &&\n    to.name !== \"settings\"\n  ) {\n    console.log(\n      `everLogin: ${everLogin} to.name!== auth: ${to.name !== \"auth\"}`,\n    );\n    ElMessage.warning(\"请先登录\");\n    // 将用户重定向到登录页面\n    return { name: \"auth\" };\n  }\n});\n\nexport default router;\n","<template>\n  <div v-if=\"!onPhone\" id=\"main\">\n    <friendlist></friendlist>\n    <router-view :loaded=\"loaded\"></router-view>\n  </div>\n  <div v-else-if=\"pagePath === '/'\" id=\"main-mobile\">\n    <friendlist></friendlist>\n  </div>\n  <div v-else id=\"main-mobile\" class=\"mobile-chat\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nimport friendlist from \"@/components/FriendList.vue\";\n\nexport default {\n  components: {\n    friendlist,\n  },\n  data() {\n    const onPhone = window.innerWidth < 600;\n    return {\n      onPhone,\n      pagePath: this.$route.path,\n    };\n  },\n  watch: {\n    $route: function (newVal) {\n      this.pagePath = newVal.path;\n    },\n  },\n};\n</script>\n\n<style>\n#main {\n  background-color: rgb(255, 255, 255);\n  flex-grow: 1;\n  display: flex;\n  width: calc(100% - 4.5rem);\n}\n\n#main-mobile {\n  width: 100%;\n  max-height: calc(100vh - 4rem);\n  background-color: rgb(255, 255, 255);\n  flex-grow: 1;\n  display: flex;\n}\n\n.mobile-chat#main-mobile {\n  max-height: 100%;\n}\n</style>\n","<template>\n  <div class=\"blank-view\">\n    <div class=\"upside-bar\">\n      <div class=\"options\"></div>\n    </div>\n  </div>\n</template>\n<script>\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  name: \"BlankView\",\n  data() {\n    return {\n      fullScreen: false,\n      client: client,\n    };\n  },\n  watch: {},\n  created() {\n    this.fullScreen = client.fullScreen;\n  },\n  methods: {\n    waiting() {\n      this.$message({ message: \"此功能尚未开放\", type: \"warning\" });\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n.blank-view\n  background-color: #f2f2f2\n  flex-grow: 1\n\n.upside-bar\n    flex-basis: 3.75rem\n    flex-shrink: 0\n    height: 3.75rem\n    width: 100%\n    display: flex\n    align-items: flex-end\n    flex-direction: row-reverse\n    justify-content: space-between\n\n    .options\n        flex-basis: 6rem\n        display: flex\n        height: 100%\n        width: 100%\n        flex-wrap: wrap\n        flex-direction: row-reverse\n</style>\n","<template>\n  <div class=\"profile-body\">\n    <div id=\"profile\">\n      <div class=\"profile-container\">\n        <div class=\"base-info\">\n          <div class=\"base-info-avatar\">\n            <img :src=\"activeContactor.avatar\" />\n          </div>\n          <div class=\"base-info-content\">\n            <div class=\"name\">{{ activeContactor.name }}</div>\n            <div class=\"id\">ID {{ activeContactor.id }}</div>\n            <div class=\"status\">\n              <span :class=\"'delay-status ' + getDelayStatus\"></span>\n              在线\n            </div>\n          </div>\n        </div>\n        <div class=\"info-blocks\">\n          <div\n            v-if=\"activeContactor.platform == 'openai'\"\n            class=\"openai-settings\"\n          >\n            <div class=\"block-title\">OpenAI 基本配置</div>\n            <div class=\"block-content\">\n              <div\n                v-for=\"(value, key) in openaiSettings\"\n                :key=\"key\"\n                class=\"block-content-item\"\n              >\n                <div class=\"item-title\">{{ getShownKey(key) }}</div>\n                <div class=\"item-content\">\n                  <el-input\n                    v-if=\"['model', 'max_messages_num'].includes(key)\"\n                    v-model=\"openaiSettings[key]\"\n                    @change=\"updateOpenaiOptions\"\n                  ></el-input>\n                  <el-switch\n                    v-else-if=\"['stream', 'enable_tool_call'].includes(key)\"\n                    v-model=\"openaiSettings[key]\"\n                    @change=\"updateOpenaiOptions\"\n                  ></el-switch>\n                  <el-slider\n                    v-else-if=\"['temperature'].includes(key)\"\n                    v-model=\"openaiSettings[key]\"\n                    :step=\"sliderTypeARange[2]\"\n                    :min=\"sliderTypeARange[0]\"\n                    :max=\"sliderTypeARange[1]\"\n                    @change=\"updateOpenaiOptions\"\n                  />\n                  <el-slider\n                    v-else-if=\"['top_p'].includes(key)\"\n                    v-model=\"openaiSettings[key]\"\n                    :step=\"sliderTypeBRange[2]\"\n                    :min=\"sliderTypeBRange[0]\"\n                    :max=\"sliderTypeBRange[1]\"\n                    @change=\"updateOpenaiOptions\"\n                  />\n                  <el-slider\n                    v-else-if=\"\n                      ['frequency_penalty', 'presence_penalty'].includes(key)\n                    \"\n                    v-model=\"openaiSettings[key]\"\n                    :step=\"sliderTypeCRange[2]\"\n                    :min=\"sliderTypeCRange[0]\"\n                    :max=\"sliderTypeCRange[1]\"\n                    @change=\"updateOpenaiOptions\"\n                  />\n                </div>\n              </div>\n            </div>\n            <div class=\"block-title\">OpenAI 预设配置</div>\n            <div class=\"block-content\">\n              <div class=\"block-content-item\">\n                <div class=\"item-title\">预设历史记录</div>\n                <div class=\"item-content\">\n                  <button\n                    :class=\"{\n                      active: showPresetsDetail,\n                      'extra-info-button': true,\n                    }\"\n                    @click=\"showPresetsDetail = !showPresetsDetail\"\n                  >\n                    <svg\n                      t=\"1731677922196\"\n                      class=\"icon\"\n                      viewBox=\"0 0 1024 1024\"\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      p-id=\"5948\"\n                      width=\"16\"\n                      height=\"16\"\n                    >\n                      <path\n                        d=\"M778.965749 128.759549l-383.064442 383.063419 388.097062 388.096039-0.070608 0.033769c12.709463 13.137205 20.529569 31.024597 20.529569 50.731428 0 40.376593-32.736589 73.112158-73.115228 73.112158-19.705807 0-37.591153-7.819083-50.730405-20.528546l-0.034792 0.035816L241.890654 564.622498l0.035816-0.035816c-13.779841-13.281491-22.3838-31.915897-22.3838-52.585659 0-0.071631 0-0.106424 0-0.178055 0-0.072655 0-0.10847 0-0.144286 0-20.669762 8.603959-39.341007 22.3838-52.622498l-0.035816-0.034792L680.573835 20.337187l0.180102 0.179079c13.139252-12.5662 30.950919-20.313651 50.587142-20.313651 40.378639 0 73.115228 32.736589 73.115228 73.114205C804.455283 95.485725 794.567076 115.334795 778.965749 128.759549z\"\n                        p-id=\"5949\"\n                      ></path>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <div\n                :class=\"{\n                  hidden: !showPresetsDetail,\n                  'block-content-item': true,\n                }\"\n              >\n                <PresetsList\n                  :presets-history=\"presetHistory\"\n                  @update-presets-history=\"updateOpenaiPresets\"\n                />\n              </div>\n            </div>\n            <div class=\"block-title\">OpenAI 工具配置</div>\n            <div class=\"block-content\">\n              <div class=\"block-content-item\">\n                <div class=\"item-title\">工具函数列表</div>\n                <div class=\"item-content\">\n                  <button\n                    :class=\"{\n                      active: showToolsDetail,\n                      'extra-info-button': true,\n                    }\"\n                    @click=\"showToolsDetail = !showToolsDetail\"\n                  >\n                    <svg\n                      t=\"1731677922196\"\n                      class=\"icon\"\n                      viewBox=\"0 0 1024 1024\"\n                      version=\"1.1\"\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      p-id=\"5948\"\n                      width=\"16\"\n                      height=\"16\"\n                    >\n                      <path\n                        d=\"M778.965749 128.759549l-383.064442 383.063419 388.097062 388.096039-0.070608 0.033769c12.709463 13.137205 20.529569 31.024597 20.529569 50.731428 0 40.376593-32.736589 73.112158-73.115228 73.112158-19.705807 0-37.591153-7.819083-50.730405-20.528546l-0.034792 0.035816L241.890654 564.622498l0.035816-0.035816c-13.779841-13.281491-22.3838-31.915897-22.3838-52.585659 0-0.071631 0-0.106424 0-0.178055 0-0.072655 0-0.10847 0-0.144286 0-20.669762 8.603959-39.341007 22.3838-52.622498l-0.035816-0.034792L680.573835 20.337187l0.180102 0.179079c13.139252-12.5662 30.950919-20.313651 50.587142-20.313651 40.378639 0 73.115228 32.736589 73.115228 73.114205C804.455283 95.485725 794.567076 115.334795 778.965749 128.759549z\"\n                        p-id=\"5949\"\n                      ></path>\n                    </svg>\n                  </button>\n                </div>\n              </div>\n              <div\n                :class=\"{\n                  hidden: !showToolsDetail,\n                  'block-content-item': true,\n                }\"\n              >\n                <ul id=\"tools-list\">\n                  <li\n                    v-for=\"(tool, index) in toolsList\"\n                    :key=\"index\"\n                    class=\"block-content-item\"\n                    :title=\"tool.description\"\n                  >\n                    <div class=\"item-title\">{{ tool.name }}</div>\n                    <div class=\"item-content\">\n                      <el-switch\n                        v-model=\"tool.enabled\"\n                        @change=\"handleToolConfig\"\n                      ></el-switch>\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"extra-info\"></div>\n      </div>\n    </div>\n    <div class=\"action-bar\">\n      <el-button\n        type=\"primary\"\n        @click=\"$router.push(`/chat/${activeContactor.id}`)\"\n        >发送消息</el-button\n      >\n      <el-button type=\"danger\" @click=\"centerDialogVisible = true\"\n        >删除好友</el-button\n      >\n      <el-dialog v-model=\"centerDialogVisible\" title=\"警告\" width=\"300\" center>\n        <span> 确认要删除此好友吗？该操作不可逆。 </span>\n        <template #footer>\n          <div class=\"dialog-footer\">\n            <el-button @click=\"centerDialogVisible = false\">取消</el-button>\n            <el-button type=\"primary\" @click=\"delContactor\"> 确认 </el-button>\n          </div>\n        </template>\n      </el-dialog>\n    </div>\n  </div>\n</template>\n<script>\nimport { client, config } from \"@/lib/runtime.js\";\nimport PresetsList from \"@/components/PresetsList.vue\";\n\nexport default {\n  components: {\n    PresetsList,\n  },\n  data() {\n    const currentId = parseInt(this.$route.params.id);\n    const contactor = client.getContactor(currentId);\n\n    return {\n      activeContactor: contactor,\n      openaiSettings: this.getShownOpenAISettings(contactor.options),\n      currentDelay: 0,\n      centerDialogVisible: false,\n      sliderTypeARange: [0, 2, 0.1],\n      sliderTypeBRange: [0, 1, 0.1],\n      sliderTypeCRange: [-2, 2, 0.1],\n      showPresetsDetail: false,\n      showToolsDetail: false,\n      presetHistory: contactor.options.history,\n      openaiTools: config.openaiTools,\n      toolsList: [],\n    };\n  },\n  computed: {\n    getDelayStatus() {\n      return this.currentDelay > 1000\n        ? \"high\"\n        : this.currentDelay > 500\n          ? \"mid\"\n          : this.currentDelay > 100\n            ? \"low\"\n            : \"ultra\";\n    },\n  },\n  watch: {\n    \"$route.params.id\"(newVal) {\n      this.activeContactor = client.getContactor(newVal);\n      this.initContactor();\n    },\n  },\n  mounted() {\n    this.initContactor();\n\n    setInterval(() => {\n      this.currentDelay = client.socket.delay;\n    }, 3000);\n  },\n  methods: {\n    handleToolConfig() {\n      this.activeContactor.options.tools = this.toolsList\n        .filter((tool) => tool.enabled)\n        .map((tool) => tool.name);\n      client.setLocalStorage(); //持久化存储\n    },\n    initContactor() {\n      if (this.activeContactor.platform == \"openai\") {\n        this.openaiSettings = this.getShownOpenAISettings(\n          this.activeContactor.options,\n        );\n        this.presetHistory = [...this.activeContactor.options.history];\n        this.loadToolsList();\n      }\n    },\n    loadToolsList() {\n      const enabledTools = this.activeContactor.options.tools;\n      this.toolsList = this.openaiTools.map((tool) => {\n        return {\n          name: tool.name,\n          description: tool.description,\n          enabled: enabledTools.includes(tool.name),\n        };\n      });\n    },\n    updateOpenaiPresets(presets) {\n      this.activeContactor.setOpenaiPresets(presets);\n      client.setLocalStorage(); //持久化存储\n    },\n    updateOpenaiOptions() {\n      this.activeContactor.options = {\n        ...this.activeContactor.options,\n        ...this.openaiSettings,\n      };\n      client.setLocalStorage(); //持久化存储\n    },\n    getShownOpenAISettings(options) {\n      const shownKeys = [\n        \"model\",\n        \"max_messages_num\",\n        \"stream\",\n        \"enable_tool_call\",\n        \"temperature\",\n        \"top_p\",\n        \"frequency_penalty\",\n        \"presence_penalty\",\n      ];\n      const shownSettings = {};\n      shownKeys.map((key) => {\n        shownSettings[key] = options[key];\n      });\n      return shownSettings;\n    },\n    getShownKey(key) {\n      const shownNameMap = {\n        enable_tool_call: \"工具调用\",\n        model: \"模型\",\n        max_messages_num: \"最大历史消息数\",\n        stream: \"流式响应\",\n        temperature: \"温度 (temperature)\",\n        top_p: \"核采样 (top_p)\",\n        frequency_penalty: \"频率惩罚度 (frequency_penalty)\",\n        presence_penalty: \"话题新鲜度 (presence_penalty)\",\n      };\n      return shownNameMap[key];\n    },\n    delContactor() {\n      this.centerDialogVisible = false;\n      client.rmContactor(this.activeContactor.id);\n      this.$router.push(\"/contactors\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n#profile {\n  position: relative;\n  flex-grow: 1;\n  display: flex;\n  overflow-y: auto;\n  max-height: 100vh;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n}\n\n#tools-list {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.item-extra-content {\n  width: 100%;\n  max-height: 0px;\n}\n\n.block-content-item.hidden {\n  min-height: 0px;\n  max-height: 0px;\n}\n\n.extra-info-button.active {\n  transform: rotate(-90deg);\n}\n\n.item-content button {\n  background-color: transparent;\n  transition: transform 0.3s ease;\n}\n\n.profile-container {\n  margin: 2rem 0rem 6rem 0rem;\n  width: calc(100% - 8rem);\n  min-width: 20rem;\n  max-width: 30rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.profile-container > * {\n  width: 100%;\n  flex-basis: 1rem;\n}\n\n.base-info {\n  /* border: 1px solid #000000; */\n  background-color: #fff;\n  border-radius: 0.5rem;\n  display: flex;\n  padding-bottom: 1rem;\n  border-bottom: 1px solid #88888888;\n}\n\n.base-info-avatar {\n  margin-top: 1rem;\n  margin-left: 1rem;\n  flex-basis: 5.5rem;\n  height: 5.5rem;\n}\n\n.base-info-avatar img {\n  width: 100%;\n  height: 100%;\n  border-radius: 50%;\n}\n\n.block-title {\n  font-size: 0.8rem;\n}\n\n.block-content {\n  margin-top: 0.5rem;\n  margin-bottom: 1rem;\n  width: 100%;\n  display: flex;\n  background-color: #fff;\n  min-height: 1rem;\n  border-radius: 0.5rem;\n  flex-direction: column;\n}\n\n.block-content:last-child {\n  margin-bottom: 3rem;\n}\n\n.block-content-item {\n  max-height: 50rem;\n  overflow-y: auto;\n  transition: max-height 0.5s ease;\n  position: relative;\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n  min-height: 2.5rem;\n  flex-wrap: wrap;\n}\n\n.block-content-item::after {\n  content: \"\";\n  /* 必须要有 content 属性 */\n  position: absolute;\n  bottom: 0;\n  /* 定位到元素底部 */\n  left: 5%;\n  /* 距离左边的长度，可以根据需要调整 */\n  width: 90%;\n  /* 短一些的边框长度 */\n  height: 1px;\n  /* 边框的高度 */\n  background-color: rgba(145, 145, 145, 0.155);\n  /* 边框的颜色 */\n}\n\n.item-title {\n  font-size: 0.8rem;\n  margin-left: 1rem;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n}\n\n.item-content {\n  transform: scale(0.9);\n  flex-basis: 10rem;\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  margin-right: 1.5rem;\n}\n\n.base-info-content {\n  margin-left: 1.5rem;\n  margin-top: 1rem;\n  display: flex;\n  flex-direction: column;\n}\n\n.base-info-content .name {\n  font-size: 1.25rem;\n}\n\n.base-info-content .id {\n  margin-top: 0.25rem;\n  font-size: 0.75rem;\n  color: dimgrey;\n}\n\n.base-info-content .status {\n  margin-top: 0.25rem;\n}\n\n.info-blocks > * {\n  margin-top: 1rem;\n}\n\n.info-blocks {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.action-bar {\n  position: absolute;\n  background-color: #f2f2f2;\n  bottom: 0px;\n  left: 0px;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  height: 6rem;\n  width: 100%;\n  z-index: 2;\n}\n.profile-body {\n  position: relative;\n  flex-grow: 1;\n  padding-top: 4rem;\n  background-color: #f2f2f2;\n}\n</style>\n<style lang=\"sass\">\n.delay-status\n    display: inline-block\n    width: 1rem\n    height: 1rem\n    border-radius: 50%\n    transform: translateY(.25rem)\n    margin-right: .25rem\n\n    &:hover + .delay-num\n        display: inline-block\n\n    &.ultra\n        background-color: rgb(53, 233, 146)\n\n    &.low\n        background-color: rgb(255, 204, 0)\n\n    &.mid\n        background-color: rgb(255, 102, 102)\n\n    &.high\n        background-color: #ccc\n</style>\n","<template>\n  <div class=\"auth-view\">\n    <div class=\"container\">\n      <div ref=\"iconContainer\" class=\"icon-container\">\n        <i class=\"iconfont ChatGPT\"></i>\n      </div>\n      <h1 class=\"title\">登录验证</h1>\n      <p class=\"hint\">管理员开启了密码验证，请在下方填入访问码</p>\n      <input\n        v-model=\"accessCode\"\n        type=\"password\"\n        placeholder=\"在此处填写访问码\"\n      />\n      <div class=\"controls\">\n        <button class=\"later\" @click=\"login()\">游客登录</button>\n        <button class=\"login\" @click=\"login(accessCode)\">Login</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { nextTick, onUnmounted, onMounted, ref } from \"vue\";\nimport router from \"@/router\";\nimport { client } from \"@/lib/runtime.js\";\nimport { ElMessage } from \"element-plus\";\n\nconst accessCode = ref();\nconst requesting = ref(false);\nconst iconContainer = ref();\n\nconst login = async (code) => {\n  console.log(\"触发login了\");\n\n  // 激活图标\n  await nextTick(() => iconContainer.value.classList.add(\"active\"));\n\n  if (requesting.value) {\n    return;\n  } else {\n    requesting.value = true;\n    try {\n      const result = await client.login(code);\n      if (result) {\n        ElMessage.success(\n          `成功以${result.is_admin ? \"管理员身份\" : \"游客身份\"}登录，欢迎使用!`,\n        );\n        await router.push(\"/\");\n        // 删除回车触发login的监听\n      }\n    } catch (error) {\n      ElMessage.error(error);\n    }\n    requesting.value = false;\n  }\n};\n\n// 定义一个命名函数供事件监听和移除使用\nfunction handleEnter(e) {\n  if (e.key === \"Enter\") {\n    login(accessCode.value);\n  }\n}\n\n// 在unmounted时移除监听\nonUnmounted(() => {\n  console.log(\"unmounted\");\n  removeEventListener(\"keydown\", handleEnter); // 使用相同的函数引用进行移除\n});\n\nonMounted(() => {\n  addEventListener(\"keydown\", handleEnter);\n});\n</script>\n\n<style lang=\"sass\" scoped>\n$baseColor: #1d93ab\n\n.auth-view\n    background-color: white\n    flex-grow: 1\n    display: grid\n    place-items: center\n\n    .container\n        display: flex\n        flex-direction: column\n        align-items: center\n        width: 50%\n        margin: 0 auto\n        text-align: center\n        animation: fly-into 1s\n\n        @keyframes fly-into\n            from\n                transform: translateX(-150px)\n                opacity: 0\n            to\n                transform: translateX(0)\n                opacity: 1\n\n        .icon-container\n            transition: 1s linear\n\n            .iconfont.ChatGPT\n                font-size: 46px\n                border-radius: 10px\n\n            &.active\n                transform: rotate(180deg)\n                color: $baseColor\n\n        .title\n            font-size: 50px\n            letter-spacing: 5px\n            color: black\n            margin: 25px\n\n        .hint\n            font-size: 15px\n            font-weight: 300\n\n        input\n            margin-top: 30px\n            border: 2px solid $baseColor\n            border-radius: 12px\n            width: 250px\n            height: 40px\n            padding: 0 10px\n            text-align: center\n            letter-spacing: 1px\n\n            &:focus\n                outline: 1px solid $baseColor\n\n                &::placeholder\n                    color: transparent\n\n            &::placeholder\n                text-align: center\n\n        .controls\n            display: flex\n            flex-direction: column\n            align-items: center\n\n            button\n                width: 10rem\n                margin-top: 20px\n                padding: 10px 15px\n                border-radius: 8px\n\n                &:hover\n                    box-shadow: 0 0 2px black\n\n            .later\n                background: transparent\n\n            .login\n                color: white\n                background: $baseColor\n</style>\n","<template>\n  <div id=\"settings-view\">\n    <el-button type=\"info\" plain @click=\"reset()\">点我重置</el-button>\n  </div>\n</template>\n\n<script>\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  name: \"SettingsView\",\n  data() {\n    return {};\n  },\n  methods: {\n    reset() {\n      this.$router.push(\"/auth\");\n      console.log(\"666\");\n      // client.reset()\n      setTimeout(() => {\n        client.reset();\n      }, 50);\n    },\n  },\n};\n</script>\n\n<style scoped>\n#settings-view {\n  flex-grow: 1;\n  height: 100%;\n  background-color: #f2f2f2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n"],"file":"assets/js/views-RmnLgoFR.js"}