import{a as e}from"./vendor_editor_preview-z3gkd-VO.js";import{M as t}from"./vendor_element_plus-CMcTUEOy.js";import{c as s,a as n,b as i,e as o,g as r,f as a,n as l,t as c,F as d,o as u,aU as p,a_ as f}from"./vendor_vue-CSrYp3NK.js";import{_ as h,i as m,j as v,d as _,c as g}from"./components-Z1ZItl6E.js";import{r as w}from"./views-DTkrlE4O.js";import"./vendor_misc-BTiB9Zt4.js";import"./vendor_socketio-3UEp_BzY.js";import"./vendor_emoji-C7BQ2utN.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const y={key:0,class:"app-mobile"},b={key:0,id:"beian",href:"https://beian.miit.gov.cn/",target:"_blank"};const k=h({components:{sideBar:v,displayButtons:m},data(){const e=_.getBaseConfig();return{onPhone:window.innerWidth<600,client:g,fullScreen:e?.full_screen||!1,beian:e?.beian||"",isTauri:!(!window.__TAURI__&&!window.__TAURI_INTERNALS__)}},computed:{onPrivate(){return this.$route.path.includes("/auth")||this.$route.path.includes("/profile")||this.$route.path.includes("/chat")},hideDisplayButtons(){return this.$route.path.includes("/settings")}},created(){const e=_.getBaseConfig();Object.keys(e).length>0?(this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title):_.setBaseConfigCallback(e=>{this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{setWindowSize(e){this.fullScreen=e,_.updateBaseConfig({full_screen:e})},handleResize(){this.onPhone=window.innerWidth<600},closeApp(){this.$message({message:"浏览器端暂不支持关闭",type:"warning"})}}},[["render",function(e,t,p,f,h,m){const v=a("router-view"),_=a("sideBar"),g=a("displayButtons");return u(),s(d,null,[n("div",{id:"mio-chat",class:l({browser:!h.isTauri})},[h.onPhone?(u(),s("div",y,[o(v),m.onPrivate?i("",!0):(u(),r(_,{key:0}))])):(u(),s("div",{key:1,class:l(["app-desktop",{fullscreen:h.fullScreen||h.isTauri}])},[m.hideDisplayButtons?i("",!0):(u(),r(g,{key:0,"full-screen":h.fullScreen,onClose:m.closeApp,onSetScreen:m.setWindowSize},null,8,["full-screen","onClose","onSetScreen"])),o(_),o(v)],2))],2),h.beian?(u(),s("a",b,c(h.beian),1)):i("",!0)],64)}],["__scopeId","data-v-e088517a"]]);e(()=>import("./viewportSync-BIdDc6nv.js"),[]);const S=p(k),E=f();S.use(E),S.use(t),S.use(w),S.mount("#app"),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.v4.js").then(e=>{const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;e.active?e.active.postMessage({type:"SET_DEV_MODE",isDevMode:t}):navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SET_DEV_MODE",isDevMode:t})})}).catch(e=>{})});
//# sourceMappingURL=index-te8ugo8I.js.map
