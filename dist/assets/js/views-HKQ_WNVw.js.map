{"version":3,"mappings":"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","names":["_hoisted_1","id","_hoisted_2","class","_hoisted_3","_hoisted_4","_hoisted_5","key","_hoisted_7","_hoisted_9","_hoisted_10","_hoisted_12","_hoisted_14","_hoisted_15","style","width","height","position","components","MdPreview","ContextMenu","ForwardMsg","InputEditor","ToolCallBar","FileBlock","ReasonBlock","data","shareId","contactor","preview","scroll","currentUrl","window","location","href","params","URL","searchParams","has","get","currentId","parseInt","this","$route","client","getContactor","Error","e","defaultId","contactList","$router","push","path","query","activeContactor","showwindow","showemoji","userInput","extraOptions","wraperPresets","selectedOption","currentDelay","toupdate","seletedText","seletedImage","retryList","showMenu","menuTop","menuLeft","validMessageIndex","repliedMessageId","autoScroll","fullScreen","chatWindowRef","computed","getMenuStyle","innerWidth","top","left","getDelayStatus","activeMessageChain","options","opening","role","content","type","text","time","createTime","messageChain","watch","newVal","oldVal","initContactor","toButtom","oldId","oldContactor","disableContactor","mounted","document","addEventListener","$refs","chatWindow","scrollHandler","setInterval","socket","delay","loadOriginalContactors","$message","message","updated","length","beforeUnmount","removeEventListener","methods","handleMouseUp","selectedText","getSelection","toString","clicked","setTimeout","scrollTop","scrollHeight","elm","getElementById","cleanScreen","updateFirstMessage","setLocalStorage","emit","cleanHistory","isValidInput","input","test","waiting","tolist","name","setModel","model","title","loadAvatar","toimg","rect","getBoundingClientRect","html2canvas","windowHeight","then","canvas","img","toDataURL","link","createElement","download","click","share","shareContactor","hasOpening","getFullMessages","showTime","index","list","thisTime","show","getShownTime","separateTextAndImages","markdownText","regex","matches","result","lastIndex","exec","textContent","slice","trim","file","getChatwindowScrollheight","clientHeight","active","on","splice","$forceUpdate","async","messageId","rawMessage","getMessageById","status","filter","item","error","forEach","element","platform","formatedMessage","loadName","off","getReplyText","find","substr","showMessageMenu","event","messageIndex","target","tagName","toLowerCase","imgSrc","src","preventDefault","clientY","clientX","currentSelectedText","getseletedMessage","handleMessageOption","option","webSend","retryMessage","_openBlock","_createElementBlock","_createElementVNode","onClick","$event","$options","_ctx","$data","_toDisplayString","_normalizeClass","ref","_createVNode","_component_ContextMenu","_normalizeStyle","onMessageOption","onClose","_Fragment","_renderList","ref_for","_hoisted_6","_createCommentVNode","_hoisted_8","avatar","alt","_hoisted_11","_hoisted_13","onMouseup","args","onContextmenu","elmIndex","_createBlock","_component_MdPreview","_component_el_image","loading","fit","_component_ForwardMsg","messages","_component_FileBlock","_hoisted_16","_component_ReasonBlock","endTime","startTime","_hoisted_17","_cache","_component_ToolCallBar","JSON","stringify","_hoisted_18","_component_InputEditor","onStroge","onSetModel","onCleanScreen","onCleanHistory","onToButtom","router","createRouter","history","createWebHistory","routes","component","__vitePreload","Promise","resolve","HomeView$1","children","BlankView","ChatView","AuthView$1","SettingsView$1","beforeEach","to","everLogin","ElMessage","warning","redirect","fullPath","created","friendlist","blankView","onPhone","pagePath","loaded","inited","_component_friendlist","_component_blankView","_component_router_view","accessCode","requesting","iconContainer","login","code","nextTick","value","classList","add","success","is_admin","currentRoute","remove","handleEnter","onUnmounted","onMounted","reset","reload","resetCache","_component_el_button","plain","default","_withCtx","_createTextVNode","_"],"ignoreList":[],"sources":["../../../src/views/ChatView.vue","../../../src/router/index.js","../../../src/views/BlankView.vue","../../../src/views/HomeView.vue","../../../src/views/AuthView.vue","../../../src/views/SettingsView.vue"],"sourcesContent":["<script>\nimport { MdPreview } from \"md-editor-v3\";\nimport ForwardMsg from \"@/components/ForwardMsg.vue\";\nimport InputEditor from \"@/components/InputEditor.vue\";\nimport FileBlock from \"@/components/FileBlock.vue\";\nimport ToolCallBar from \"@/components/ToolCallBar.vue\";\nimport ReasonBlock from \"@/components/ReasonBlock.vue\";\nimport ContextMenu from \"@/components/ContextMenu.vue\";\nimport \"emoji-picker-element\";\nimport html2canvas from \"html2canvas\";\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  components: {\n    MdPreview,\n    ContextMenu,\n    ForwardMsg,\n    InputEditor,\n    ToolCallBar,\n    FileBlock,\n    ReasonBlock,\n  },\n  data() {\n    let preview = false;\n    let shareId = undefined;\n    let contactor = undefined;\n    let scroll = true;\n\n    // 获取当前页面的URL\n    const currentUrl = window.location.href;\n    // 创建一个URL对象\n    const url = new URL(currentUrl);\n    // 获取URL参数\n    const params = url.searchParams;\n    // 检查URL参数是否有preview参数\n    if (params.has(\"preview\")) {\n      if (params.get(\"preview\") === \"true\") {\n        preview = true;\n      }\n    }\n    // 检查URL参数是否有shareId参数\n    if (params.has(\"shareId\")) {\n      shareId = params.get(\"shareId\");\n    }\n    if (params.has(\"scroll\")) {\n      scroll = params.get(\"scroll\") === \"true\";\n    }\n\n    const currentId = parseInt(this.$route.params.id);\n    try {\n      contactor = client.getContactor(currentId);\n      if (!contactor) {\n        throw new Error(\"找不到联系人\");\n      }\n    } catch (e) {\n      const defaultId = client.contactList[0].id;\n      this.$router.push({\n        path: `/chat/${defaultId}`,\n        query: {\n          preview,\n          shareId,\n        },\n      });\n      contactor = client.getContactor(defaultId);\n    }\n\n    return {\n      scroll,\n      preview,\n      shareId,\n      activeContactor: contactor,\n      showwindow: true,\n      showemoji: false,\n      userInput: \"\",\n      client: client,\n      extraOptions: [],\n      wraperPresets: {},\n      selectedOption: null,\n      currentDelay: 0,\n      toupdate: false,\n      seletedText: \"\",\n      seletedImage: \"\",\n      retryList: [],\n      showMenu: false,\n      menuTop: 0,\n      menuLeft: 0,\n      validMessageIndex: -1,\n      repliedMessageId: -1,\n      autoScroll: false,\n      fullScreen: false,\n      chatWindowRef: null,\n    };\n  },\n  computed: {\n    getMenuStyle() {\n      // return { top: this.menuTop + \"px\", left: this.menuLeft + \"px\" };\n      // 长度超出屏幕宽度，就向左移动\n      console.log(this.menuLeft);\n      if (this.menuLeft + 110 > window.innerWidth) {\n        return {\n          top: this.menuTop + \"px\",\n          left: this.menuLeft - 110 + \"px\",\n        };\n      } else {\n        return {\n          top: this.menuTop + \"px\",\n          left: this.menuLeft + \"px\",\n        };\n      }\n    },\n    getDelayStatus() {\n      return this.currentDelay > 1000\n        ? \"high\"\n        : this.currentDelay > 500\n          ? \"mid\"\n          : this.currentDelay > 100\n            ? \"low\"\n            : \"ultra\";\n    },\n    activeMessageChain() {\n      return this.activeContactor.options.opening\n        ? [\n            {\n              role: \"other\",\n              content: [\n                {\n                  type: \"text\",\n                  data: {\n                    text: this.activeContactor.options.opening,\n                  },\n                },\n              ],\n              time: this.activeContactor.createTime,\n            },\n            ...this.activeContactor.messageChain,\n          ]\n        : this.activeContactor.messageChain;\n    },\n  },\n  watch: {\n    [\"$route.params.id\"](newVal, oldVal) {\n      const currentId = parseInt(newVal);\n      const contactor = client.getContactor(currentId);\n      this.activeContactor = contactor;\n      this.initContactor(this.activeContactor);\n      if (this.chatWindowRef) this.toButtom();\n      if (oldVal) {\n        const oldId = parseInt(oldVal);\n        const oldContactor = client.getContactor(oldId);\n        this.disableContactor(oldContactor);\n      }\n    },\n  },\n  async mounted() {\n    document.addEventListener(\"click\", () => {\n      this.showMenu = false;\n      this.seletedText = \"\";\n      this.seletedImage = \"\";\n      // if( this.showemoji) this.showemoji = false;\n    });\n    this.chatWindowRef = this.$refs.chatWindow;\n    this.chatWindowRef.addEventListener(\"scroll\", this.scrollHandler);\n    if (!this.preview && this.scroll) this.toButtom();\n    this.scroll = true;\n    this.initContactor(this.activeContactor);\n    this.fullScreen = this.client.fullScreen;\n    setInterval(() => {\n      this.currentDelay = this.client.socket.delay;\n    }, 3000);\n\n    if (this.shareId) {\n      const loadAble = await client.loadOriginalContactors(this.shareId);\n      if (loadAble) {\n        this.$router.push({\n          path: \"/chat/\" + this.shareId,\n          query: {\n            preview: this.preview,\n            scroll: false,\n          },\n        });\n      } else {\n        this.$message({\n          message: \"分享链接已失效\",\n          type: \"error\",\n        });\n      }\n    }\n  },\n  updated() {\n    if (this.toupdate && this.autoScroll && this.retryList.length === 0) {\n      this.toButtom();\n      this.toupdate = false;\n    }\n  },\n  beforeUnmount() {\n    // 移除事件监听\n    this.disableContactor(this.activeContactor);\n    this.chatWindowRef.removeEventListener(\"scroll\", this.scrollHandler);\n  },\n  methods: {\n    handleMouseUp() {\n      const selectedText = window.getSelection().toString();\n      if (selectedText) {\n        this.seletedText = selectedText;\n        console.log(\"选中的文本：\" + selectedText);\n      }\n    },\n    toButtom(clicked) {\n      setTimeout(() => {\n        if (this.chatWindowRef) {\n          this.chatWindowRef.scrollTop = this.chatWindowRef.scrollHeight;\n        } else {\n          const elm = document.getElementById(\"main-messages-window\");\n          elm.scrollTop = elm.scrollHeight;\n        }\n        if (clicked) this.$message(\"已滑至底部\");\n      }, 20);\n    },\n    cleanScreen() {\n      this.activeContactor.messageChain = [];\n      this.activeContactor.updateFirstMessage();\n      client.setLocalStorage(); //持久化存储\n      this.activeContactor.emit(\"updateMessageSummary\");\n\n      this.toupdate = true;\n      this.$message({ message: \"已清除会话记录\", type: \"success\" });\n    },\n    cleanHistory() {\n      this.activeContactor.updateFirstMessage();\n      this.$message({\n        message: \"上下文信息已清除，之后的请求将不再记录上文记录\",\n        type: \"success\",\n      });\n    },\n\n    isValidInput(input) {\n      // 使用正则表达式检查用户输入是否只包含换行符和空格\n      const regex = /^[ \\n]+$/;\n      const result = !regex.test(input);\n      return result;\n    },\n    waiting() {\n      this.$message({ message: \"此功能尚未开放\", type: \"warning\" });\n    },\n\n    tolist() {\n      this.$router.push({ name: \"home\" });\n    },\n\n    async setModel(name) {\n      this.activeContactor.options.model = name;\n      this.activeContactor.title = name;\n      this.activeContactor.loadAvatar();\n      await client.setLocalStorage(); //持久化存储\n    },\n    toimg() {\n      // 使用html2canvas把 this.chatWindowRef 渲染为图片\n      const rect = this.chatWindowRef.getBoundingClientRect();\n      rect.height = this.chatWindowRef.scrollHeight;\n\n      html2canvas(this.chatWindowRef, {\n        windowHeight: rect.height * 1.2,\n        width: rect.width,\n        // 例如: allowTaint: true, backgroundColor: null\n      }).then((canvas) => {\n        // 将canvas转换为图片\n        const img = canvas.toDataURL(\"image/png\");\n        // 创建一个a标签，并设置下载属性和下载链接\n        const link = document.createElement(\"a\");\n        link.download = \"chat.png\";\n        link.href = img;\n        // 模拟点击下载\n        link.click();\n      });\n    },\n    async share() {\n      const shareResult = await client.shareContactor(this.activeContactor.id);\n      if (shareResult) {\n        this.$message({\n          message: \"分享链接已复制\",\n          type: \"success\",\n        });\n      } else {\n        this.$message({\n          message: \"分享失败\",\n          type: \"error\",\n        });\n      }\n    },\n    hasOpening() {\n      return this.activeContactor.options.opening ? true : false;\n    },\n    getFullMessages() {\n      return this.hasOpening()\n        ? [\n            {\n              role: \"other\",\n              content: [\n                {\n                  type: \"text\",\n                  data: {\n                    text: this.activeContactor.options.opening,\n                  },\n                },\n              ],\n              time: this.activeContactor.createTime,\n            },\n            ...this.activeContactor.messageChain,\n          ]\n        : this.activeContactor.messageChain;\n    },\n    showTime(index) {\n      const list = this.getFullMessages();\n      const thisTime = list[index].time;\n      if (index === 0) {\n        return {\n          show: true,\n          time: this.activeContactor.getShownTime(thisTime),\n        };\n      } else {\n        const earlyTime = list[index - 1].time;\n        if (thisTime - earlyTime > 600000) {\n          return {\n            show: true,\n            time: this.activeContactor.getShownTime(thisTime),\n          };\n        } else {\n          return {\n            show: false,\n            time: \"\",\n          };\n        }\n      }\n    },\n    separateTextAndImages(markdownText) {\n      // 使用正则表达式匹配Markdown图片格式\n      const regex = /!\\[([^\\]]*)\\]\\((.*)\\)/g;\n      let result = [];\n      let lastIndex = 0;\n\n      // 查找所有匹配的图片\n      let matches;\n      while ((matches = regex.exec(markdownText)) !== null) {\n        // 处理匹配到的文本部分\n        if (matches.index > lastIndex) {\n          const textContent = markdownText\n            .slice(lastIndex, matches.index)\n            .trim();\n          if (textContent) {\n            result.push({\n              type: \"text\",\n              data: {\n                text: textContent,\n              },\n            });\n          }\n        }\n\n        // 处理匹配到的图片部分\n        result.push({\n          type: \"image\",\n          data: {\n            // file: matches[2].length > 200 ? matches[2] : `/api/proxy?url=${matches[2]}`,\n            file: matches[2],\n          },\n        });\n\n        // 更新lastIndex到当前匹配结束的位置\n        lastIndex = regex.lastIndex;\n      }\n\n      // 处理最后一部分文本（如果有的话）\n      if (lastIndex < markdownText.length) {\n        const textContent = markdownText.slice(lastIndex).trim();\n        if (textContent) {\n          result.push({\n            type: \"text\",\n            data: {\n              text: textContent,\n            },\n          });\n        }\n      }\n\n      return result;\n    },\n\n    getChatwindowScrollheight() {\n      var scrollTop = this.chatWindowRef.scrollTop; // 当前滚动条的垂直位置\n      var clientHeight = this.chatWindowRef.clientHeight; // 可视区域高度\n      var scrollHeight = this.chatWindowRef.scrollHeight; // 内容总高度\n\n      // 计算滚动位置的实际像素长度\n      var scrollPercentage = scrollTop / (scrollHeight - clientHeight);\n      var height = scrollPercentage * scrollHeight;\n\n      return scrollHeight - height;\n    },\n\n    initContactor(contactor) {\n      contactor.active = true;\n\n      contactor.on(\"revMessage\", (message) => {\n        this.activeContactor.messageChain.push(message);\n        this.toupdate = true;\n      });\n      contactor.on(\"delMessage\", (index) => {\n        console.log(`删除消息${index}`);\n        // 从消息链中删除消息\n        this.activeContactor.messageChain.splice(index, 1);\n        this.toupdate = true;\n      });\n\n      contactor.on(\"updateMessage\", () => {\n        this.$forceUpdate();\n        this.toupdate = true;\n      });\n\n      contactor.on(`completeMessage`, async (e) => {\n        const messageId = e.messageId;\n        const rawMessage = this.activeContactor.getMessageById(messageId);\n        if (rawMessage.status === \"retrying\") {\n          this.retryList = this.retryList.filter((item) => item !== messageId);\n        }\n        rawMessage.status = \"completed\";\n\n        if (!e.error) {\n          rawMessage.content.forEach((element, index) => {\n            if (\n              element.type === \"text\" &&\n              this.activeContactor.platform === \"onebot\"\n            ) {\n              const formatedMessage = this.separateTextAndImages(\n                element.data.text,\n              );\n              // 把 formatedMessage 里的元素展开到 index 这个位置\n              rawMessage.content.splice(index, 1, ...formatedMessage);\n            }\n          });\n        } else {\n          rawMessage.content = [\n            {\n              type: \"text\",\n              data: {\n                text: e.text,\n              },\n            },\n          ];\n        }\n\n        this.toupdate = true;\n        this.activeContactor.loadName();\n        client.setLocalStorage(); //持久化存储\n        console.log(e);\n      });\n    },\n    disableContactor(contactor) {\n      if (contactor) {\n        contactor.active = false;\n        contactor.off(`updateMessage`);\n        contactor.off(`revMessage`);\n        contactor.off(`delMessage`);\n        contactor.off(`completeMessage`);\n      }\n    },\n    getReplyText(id) {\n      let content = \"\";\n      const message = this.activeContactor.messageChain.find(\n        (item) => item.id === id,\n      );\n      if (message) {\n        message.content.forEach((element) => {\n          if (element.type === \"text\") {\n            content += element.data.text;\n          } else if (element.type === \"image\") {\n            content += \"[图片]\";\n          }\n        });\n        if (content.length > 20) {\n          return `> ${content.substr(0, 20)}...`;\n        } else {\n          return `> ${content}`;\n        }\n      }\n    },\n    showMessageMenu(event, messageIndex) {\n      // 确定右击的元素类型\n      if (event.target.tagName.toLowerCase() === \"img\") {\n        const imgElement = event.target;\n        const imgSrc = imgElement.src;\n        this.seletedImage = imgSrc;\n      } else {\n        console.log(\"用户右击了非图片元素\");\n      }\n      this.validMessageIndex =\n        this.activeContactor.platform === \"openai\" && this.hasOpening()\n          ? messageIndex - 1\n          : messageIndex;\n      event.preventDefault();\n      this.showMenu = true;\n      this.menuTop = event.clientY;\n      this.menuLeft = event.clientX;\n\n      const currentSelectedText = window.getSelection().toString();\n      if (currentSelectedText) {\n        this.seletedText = currentSelectedText;\n      } else {\n        this.seletedText = \"\";\n      }\n    },\n    scrollHandler() {\n      this.showMenu = false;\n      if (this.showemoji) this.showemoji = false;\n\n      const scrollHeight = this.getChatwindowScrollheight();\n\n      this.autoScroll = scrollHeight > 300 ? false : true;\n    },\n    getseletedMessage() {\n      return this.activeContactor.messageChain[this.validMessageIndex];\n    },\n    handleMessageOption(option) {\n      const message = this.getseletedMessage();\n      switch (option) {\n        case \"retry\":\n          if (this.activeContactor.platform === \"onebot\") {\n            // 重新发送一样的消息\n            if (message.role === \"user\") {\n              this.activeContactor.webSend(message);\n            } else {\n              this.activeContactor.webSend({\n                ...message,\n                role: \"user\",\n              });\n            }\n            this.$message({ message: \"消息已重新发送\", type: \"success\" });\n          } else {\n            const targetIndex =\n              message.role === \"user\"\n                ? this.validMessageIndex + 1\n                : this.validMessageIndex;\n            if (message.role === \"user\") {\n              this.activeContactor.retryMessage(message.id);\n            } else {\n              this.activeContactor.retryMessage(message.id);\n            }\n            message.status = \"retrying\";\n            this.retryList.push(message.id);\n          }\n          this.toButtom();\n          break;\n        case \"reply\":\n          if (this.activeContactor.platform === \"onebot\") {\n            this.repliedMessageId = message.id;\n            this.$message({ message: \"已引用该消息\", type: \"success\" });\n          } else {\n            this.userInput +=\n              this.getReplyText(\n                this.activeContactor.messageChain[this.validMessageIndex].id,\n              ) + \"\\n\\n\";\n          }\n          break;\n        case \"delete\":\n          this.activeContactor.messageChain.splice(this.validMessageIndex, 1);\n          client.setLocalStorage();\n          break;\n        default:\n          break;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div id=\"chat-window\">\n    <div class=\"upside-bar\">\n      <div class=\"return\" @click=\"tolist()\">\n        <i class=\"iconfont icon-return\"></i>\n      </div>\n      <div\n        class=\"name-area\"\n        @click=\"$router.push(`/profile/${activeContactor.id}`)\"\n      >\n        <div class=\"contactor-name\">{{ activeContactor.name }}</div>\n        <span :class=\"'delay-status ' + getDelayStatus\"></span>\n        <span class=\"delay-num\">当前延迟: {{ currentDelay }} ms</span>\n      </div>\n      <ul class=\"options\">\n        <li class=\"share\" @click=\"share()\">\n          <i class=\"iconfont icon-share\"></i>\n        </li>\n      </ul>\n    </div>\n    <div\n      id=\"main-messages-window\"\n      ref=\"chatWindow\"\n      :class=\"{\n        'message-window': true,\n        preview: preview,\n      }\"\n    >\n      <ContextMenu\n        v-show=\"showMenu\"\n        type=\"message\"\n        :message=\"getseletedMessage()\"\n        :seleted-text\n        :seleted-image\n        :style=\"getMenuStyle\"\n        @message-option=\"handleMessageOption\"\n        @close=\"showMenu = false\"\n      />\n      <div\n        v-for=\"(item, index) of activeMessageChain\"\n        :key=\"`${activeContactor.id}-${item.id}`\"\n        ref=\"message\"\n        class=\"message-container\"\n      >\n        <div v-if=\"showTime(index).show\" class=\"message-time\">\n          {{ showTime(index).time }}\n        </div>\n        <div :id=\"item.role\" class=\"message-body\">\n          <div v-if=\"item.role !== 'mio_system'\" class=\"avatar\">\n            <img\n              v-if=\"item.role === 'other'\"\n              :src=\"activeContactor.avatar\"\n              :alt=\"activeContactor.name\"\n              @click=\"$router.push(`/profile/${activeContactor.id}`)\"\n            />\n            <img v-else :src=\"client.avatar\" :alt=\"client.name\" />\n          </div>\n          <div v-if=\"item.role !== 'mio_system'\" class=\"msg\">\n            <div class=\"wholename\">\n              <div\n                v-if=\"\n                  item.role === 'other' ? activeContactor.title : client.title\n                \"\n                class=\"title\"\n              >\n                {{\n                  item.role === \"other\" ? activeContactor.title : client.title\n                }}\n              </div>\n              <div class=\"name\">\n                {{ item.role === \"other\" ? activeContactor.name : client.name }}\n              </div>\n            </div>\n            <div\n              class=\"content\"\n              @mouseup=\"handleMouseUp\"\n              @contextmenu=\"showMessageMenu($event, index)\"\n            >\n              <div\n                v-for=\"(element, elmIndex) of item.content\"\n                :key=\"elmIndex\"\n                class=\"inner-content\"\n              >\n                <MdPreview\n                  v-if=\"element.type === 'text'\"\n                  :no-img-zoom-in=\"false\"\n                  preview-theme=\"github\"\n                  :code-foldable=\"false\"\n                  :model-value=\"element.data.text\"\n                />\n                <el-image\n                  v-else-if=\"element.type === 'image'\"\n                  :key=\"`${activeContactor.id}-${index}-${elmIndex}-${element.data.file}`\"\n                  :src=\"element.data.file\"\n                  :zoom-rate=\"1.2\"\n                  :max-scale=\"7\"\n                  :min-scale=\"0.2\"\n                  :preview-src-list=\"[element.data.file]\"\n                  :initial-index=\"4\"\n                  loading=\"lazy\"\n                  fit=\"contain\"\n                />\n                <MdPreview\n                  v-else-if=\"element.type === 'reply'\"\n                  preview-theme=\"github\"\n                  :model-value=\"getReplyText(element.data.id)\"\n                />\n                <ForwardMsg\n                  v-else-if=\"element.type === 'nodes'\"\n                  :contactor=\"activeContactor\"\n                  :messages=\"element.data.messages\"\n                />\n                <FileBlock\n                  v-else-if=\"element.type === 'file'\"\n                  :file-url=\"element.data.file\"\n                />\n                <span v-else-if=\"element.type === 'at'\" />\n                <ReasonBlock\n                  v-else-if=\"element.type === 'reason'\"\n                  :end-time=\"element.data.endTime\"\n                  :start-time=\"element.data.startTime\"\n                  :content=\"element.data.text\"\n                />\n                <div\n                  v-else-if=\"element.type === 'blank'\"\n                  class=\"blank-message\"\n                  style=\"width: 10rem; height: 28.8px; position: relative\"\n                >\n                  <span class=\"blank-loader\"></span>\n                </div>\n                <ToolCallBar\n                  v-else-if=\"element.type === 'tool_call'\"\n                  :tool-call=\"element.data\"\n                />\n                <MdPreview\n                  v-else\n                  preview-theme=\"github\"\n                  :model-value=\"\n                    '未知的消息类型：\\n```\\n' +\n                    JSON.stringify(element, null, 2) +\n                    '\\n```'\n                  \"\n                />\n              </div>\n            </div>\n          </div>\n          <div v-else class=\"system-message\">\n            {{ item.content[0].data.text }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <InputEditor\n      ref=\"inputEditor\"\n      :active-contactor\n      :replied-message-id\n      @stroge=\"client.setLocalStorage()\"\n      @set-model=\"setModel\"\n      @clean-screen=\"cleanScreen\"\n      @clean-history=\"cleanHistory\"\n      @to-buttom=\"toButtom\"\n    />\n  </div>\n</template>\n\n<style lang=\"sass\" scoped>\n$mobile: 600px\n$icon-hover: #09f\n\n.preview\n    position: fixed\n    top: 0\n    left: 0\n    width: 100vw\n    height: 100vh\n    z-index: 10000\n\n#chat-window\n    z-index: 1\n    min-width: 0.0625rem\n    position: relative\n    display: flex\n    flex-grow: 1\n    background-color: #f2f2f2\n    flex-direction: column\n\n    @media (max-width: $mobile)\n        height: 100%\n\n.upside-bar\n    flex-basis: 4rem\n    flex-shrink: 0\n    width: 100%\n    display: flex\n    align-items: flex-end\n    justify-content: space-between\n    border-bottom: 0.0625rem solid #ebebeb\n\n    @media (max-width: $mobile)\n      position: fixed\n      height: 4rem\n      z-index: 1000\n      background-color: hsla(0, 0%, 100%, 0.8)\n      backdrop-filter: blur(0.5rem)\n\n    .return\n        display: none\n\n        &:hover\n            color: $icon-hover\n\n        @media (max-width: $mobile)\n            display: block\n            margin-left: 1rem\n            margin-bottom: .8rem\n\n    .name-area\n        cursor: pointer\n        position: relative\n        display: flex\n        align-items: center\n        flex-basis: 10rem\n        max-width: 20rem\n        justify-content: flex-start\n        margin: 0 0 .5rem 1rem\n\n        .contactor-name\n            text-overflow: ellipsis\n            white-space: nowrap\n            overflow: hidden\n            max-width: 10rem\n\n        .delay-status\n            width: .8rem\n            height: .8rem\n            border-radius: 50%\n            margin-left: .5rem\n            position: relative\n            top: .2rem\n\n            @media screen and (max-width: $mobile)\n              display: none\n\n\n            &:hover + .delay-num\n                display: inline-block\n\n            &.ultra\n                background-color: rgb(53, 233, 146)\n\n            &.low\n                background-color: rgb(255, 204, 0)\n\n            &.mid\n                background-color: rgb(255, 102, 102)\n\n            &.high\n                background-color: #ccc\n\n        .delay-num\n            display: none\n            position: absolute\n            font-size: 0.8rem\n            bottom: 0rem\n            background-color: #fff\n            border: 1px dashed #000\n            border-radius: 0.25rem\n            padding: 0.125rem 0.25rem\n            margin-left: 1rem\n            white-space: nowrap\n\n    .options\n        flex-basis: 10rem\n        display: flex\n        height: 2rem\n        flex-wrap: nowrap\n        flex-direction: row-reverse\n        align-items: flex-end\n        margin: 0 1rem .5rem 0\n\n        li\n            margin-left: 0.5rem\n            color: #000\n            font-weight: 580\n\n            &:hover\n              color: $icon-hover\n\n            i\n                font-size: 1.25rem\n\n\n.black-overlay\n    position: fixed\n    top: 0\n    left: 0\n    width: 100%\n    height: 100%\n    background-color: rgba(0, 0, 0, 0.4)\n    z-index: 1001\n/* z-index 属性设置元素的堆叠顺序。*/\n\n#theimg\n    position: fixed\n    top: 50%\n    left: 50%\n    transform: translate(-50%, -50%)\n    max-height: 75%\n    max-width: 50%\n\n.background img\n    position: absolute\n    top: 50%\n    left: 50%\n    transform: translate(-50%, -50%)\n\n.message-body > .avatar\n  cursor: pointer\n  flex-basis: 2.65rem\n  min-width: 2.65rem\n  height: 2.65rem\n\n\n.avatar > img\n  width: 100%\n  height: 100%\n  border-radius: 50%\n\n\n.window-controls\n    display: flex\n    flex-basis: 100%\n\n    @media (max-width: $mobile)\n        display: none\n\n    .button\n        display: flex\n        justify-content: center\n        padding-top: 0.5rem\n        flex: 0 0 2rem\n\n        &:hover\n            background-color: rgb(231, 231, 231)\n\n        &#close:hover\n            background-color: rgb(255, 0, 0)\n            color: white\n\n\n.button#close:hover svg path\n    fill: #fff\n\n\n.voice-box\n    display: flex\n    width: 11.25rem\n    height: 1.5rem\n    margin: 0.25rem 0\n\n    .icon\n        flex-basis: 1.5rem\n        background-color: rgb(0, 0, 0)\n        display: flex\n        justify-content: center\n        align-items: center\n        border-radius: 50%\n\n    .wave\n        display: flex\n        justify-content: center\n        align-items: center\n        flex-grow: 1\n\n.wave svg\n    height: 1.25rem\n    width: 80%\n\n.loader\n    width: 0.625rem\n    padding: 0.25rem\n    aspect-ratio: 1\n    border-radius: 50%\n    background: rgb(0, 153, 255)\n    --_m: conic-gradient(#0000 10%, #000), linear-gradient(#000 0 0) content-box\n    -webkit-mask: var(--_m)\n    mask: var(--_m)\n    -webkit-mask-composite: source-out\n    mask-composite: subtract\n    animation: l3 1s infinite linear\n    position: absolute\n\n@keyframes move\n    0%\n        left: -20% // 开始位置\n    100%\n        left: 120% // 结束位置\n\n.blank-loader\n    width: 10%\n    height: 200%\n    position: absolute\n    background: linear-gradient(to right, rgb(255, 255, 255), rgb(0, 0, 0) 50%, transparent 50%, transparent)\n    top: -50%\n    transform: rotate(30deg)\n    filter: blur(5px)\n    animation: move 1s linear infinite // 每1s循环\n\n@keyframes l\n    to\n        transform: rotate(1turn)\n\n@media (max-width: 600px)\n    #chatwindow\n        height: 100%\n\n    .upsidebar\n        white-space: nowrap\n        max-width: 7rem\n        text-overflow: ellipsis\n        overflow: hidden\n        background: #00a8ff linear-gradient(to right, #00d2f8, #00a8ff)\n\n    .upsidebar *\n        color: white\n        fill: white\n\n    .delay-num\n        color: black\n\n    .window-controls\n        display: none\n\n    .name-area\n        padding-bottom: 0.25rem\n\n    .input-area\n        overflow-y: auto\n\n    .inputbar\n        flex-basis: 4rem\n\n    .delay-status\n        position: relative\n        top: -.2rem\n</style>\n","import { createRouter, createWebHistory } from \"vue-router\";\nimport { client } from \"@/lib/runtime.js\";\nimport { ElMessage } from \"element-plus\";\nimport ChatView from \"../views/ChatView.vue\";\n\nconst router = createRouter({\n  history: createWebHistory(import.meta.env.BASE_URL),\n  routes: [\n    {\n      path: \"/\",\n      name: \"home\",\n      component: () => import(\"../views/HomeView.vue\"),\n      children: [\n        {\n          path: \"/\",\n          name: \"blank\",\n          component: () => import(\"../views/BlankView.vue\"),\n        },\n        {\n          path: \"/contactors\",\n          name: \"contactors\",\n          component: () => import(\"../views/BlankView.vue\"),\n        },\n        {\n          path: \"/chat/:id\",\n          name: \"chat_view\",\n          component: ChatView,\n        },\n        // {\n        //   path: \"/profile/:id\",\n        //   name: \"profile_view\",\n        //   component: () => import(\"../views/ProfileView.vue\"),\n        // },\n      ],\n    },\n    {\n      path: \"/auth\",\n      name: \"auth\",\n      component: () => import(\"../views/AuthView.vue\"),\n    },\n    {\n      path: \"/settings\",\n      name: \"settings\",\n      component: () => import(\"../views/SettingsView.vue\"),\n    },\n  ],\n});\n\nrouter.beforeEach(async (to) => {\n  const everLogin = client.everLogin();\n  if (\n    // 检查用户是否已登录\n    !everLogin &&\n    // ❗️ 避免无限重定向\n    to.name !== \"auth\"\n  ) {\n    console.log(\n      `everLogin: ${everLogin} to.name!== auth: ${to.name !== \"auth\"}`,\n    );\n    ElMessage.warning(\"请先登录\");\n    // 把原本要去的地址 完整的传递给 login?redirect=\n    const query = to.path === \"/settings\" ? null : { redirect: to.fullPath };\n    return { name: \"auth\", query };\n  }\n});\n\nexport default router;\n","<template>\n  <div class=\"blank-view\">\n    <div class=\"upside-bar\">\n      <div class=\"options\"></div>\n    </div>\n  </div>\n</template>\n<script>\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  name: \"BlankView\",\n  data() {\n    return {\n      fullScreen: false,\n      client: client,\n    };\n  },\n  watch: {},\n  created() {\n    this.fullScreen = client.fullScreen;\n  },\n  methods: {\n    waiting() {\n      this.$message({ message: \"此功能尚未开放\", type: \"warning\" });\n    },\n  },\n};\n</script>\n<style lang=\"sass\" scoped>\n.blank-view\n  background-color: #f2f2f2\n  flex-grow: 1\n\n.upside-bar\n    flex-basis: 3.75rem\n    flex-shrink: 0\n    height: 3.75rem\n    width: 100%\n    display: flex\n    align-items: flex-end\n    flex-direction: row-reverse\n    justify-content: space-between\n\n    .options\n        flex-basis: 6rem\n        display: flex\n        height: 100%\n        width: 100%\n        flex-wrap: wrap\n        flex-direction: row-reverse\n</style>\n","<template>\n  <div v-if=\"!onPhone\" id=\"main\">\n    <friendlist></friendlist>\n    <router-view v-if=\"loaded\"></router-view>\n    <blankView v-else></blankView>\n  </div>\n  <div v-else-if=\"pagePath === '/'\" id=\"main-mobile\">\n    <friendlist v-if=\"loaded\"></friendlist>\n    <blankView v-else></blankView>\n  </div>\n  <div v-else id=\"main-mobile\" class=\"mobile-chat\">\n    <router-view v-if=\"loaded\"></router-view>\n    <blankView v-else></blankView>\n  </div>\n</template>\n\n<script>\nimport friendlist from \"@/components/FriendList.vue\";\nimport { client } from \"@/lib/runtime.js\";\nimport blankView from \"@/views/BlankView.vue\";\n\nexport default {\n  components: {\n    friendlist,\n    blankView,\n  },\n  data() {\n    const onPhone = window.innerWidth < 600;\n    return {\n      onPhone,\n      pagePath: this.$route.path,\n      loaded: false,\n    };\n  },\n  watch: {\n    $route: function (newVal) {\n      this.pagePath = newVal.path;\n    },\n  },\n  mounted() {\n    if (client.inited) {\n      this.loaded = true;\n    } else {\n      client.on(\n        \"loaded\",\n        () => {\n          this.loaded = true;\n        },\n        false,\n      );\n    }\n  },\n};\n</script>\n\n<style>\n#main {\n  background-color: rgb(255, 255, 255);\n  flex-grow: 1;\n  display: flex;\n  width: calc(100% - 4.5rem);\n}\n\n#main-mobile {\n  width: 100%;\n  max-height: calc(100vh - 4rem);\n  background-color: rgb(255, 255, 255);\n  flex-grow: 1;\n  display: flex;\n}\n\n.mobile-chat#main-mobile {\n  max-height: 100%;\n}\n</style>\n","<template>\n  <div class=\"auth-view\">\n    <div class=\"container\">\n      <div ref=\"iconContainer\" class=\"icon-container\">\n        <i class=\"iconfont ChatGPT\"></i>\n      </div>\n      <h1 class=\"title\">登录验证</h1>\n      <p class=\"hint\">管理员开启了密码验证，请在下方填入访问码</p>\n      <input\n        v-model=\"accessCode\"\n        type=\"password\"\n        placeholder=\"在此处填写访问码\"\n      />\n      <div class=\"controls\">\n        <button class=\"later\" @click=\"login()\">游客登录</button>\n        <button class=\"login\" @click=\"login(accessCode)\">登录</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { nextTick, onUnmounted, onMounted, ref } from \"vue\";\nimport router from \"@/router\";\nimport { client } from \"@/lib/runtime.js\";\nimport { ElMessage } from \"element-plus\";\n\nconst accessCode = ref();\nconst requesting = ref(false);\nconst iconContainer = ref();\n\nconst login = async (code) => {\n  console.log(\"触发login了\");\n\n  // 激活图标\n  await nextTick(() => iconContainer.value.classList.add(\"active\"));\n\n  if (requesting.value) {\n    return;\n  } else {\n    requesting.value = true;\n    try {\n      const result = await client.login(code);\n      if (result) {\n        ElMessage.success(\n          `成功以${result.is_admin ? \"管理员身份\" : \"游客身份\"}登录，欢迎使用!`,\n        );\n        // 先看看url里有没有query\n        if (router.currentRoute.value.query.redirect) {\n          router.push(router.currentRoute.value.query.redirect);\n        } else {\n          router.push(\"/\");\n        }\n\n        // 删除回车触发login的监听\n      }\n    } catch (error) {\n      ElMessage.error(error);\n    } finally {\n      // 移除激活图标\n      await nextTick(() => iconContainer.value.classList.remove(\"active\"));\n      requesting.value = false;\n    }\n  }\n};\n\n// 定义一个命名函数供事件监听和移除使用\nfunction handleEnter(e) {\n  if (e.key === \"Enter\") {\n    login(accessCode.value);\n  }\n}\n\n// 在unmounted时移除监听\nonUnmounted(() => {\n  console.log(\"unmounted\");\n  removeEventListener(\"keydown\", handleEnter); // 使用相同的函数引用进行移除\n});\n\nonMounted(() => {\n  addEventListener(\"keydown\", handleEnter);\n  // 看看query里有没有key\n  if (router.currentRoute.value.query.key) {\n    login(router.currentRoute.value.query.key);\n  }\n});\n</script>\n\n<style lang=\"sass\" scoped>\n$baseColor: #1d93ab\n\n.auth-view\n    background-color: white\n    flex-grow: 1\n    display: grid\n    place-items: center\n\n    .container\n        display: flex\n        flex-direction: column\n        align-items: center\n        width: 50%\n        margin: 0 auto\n        text-align: center\n        animation: fly-into 1s\n\n        @keyframes fly-into\n            from\n                transform: translateX(-150px)\n                opacity: 0\n            to\n                transform: translateX(0)\n                opacity: 1\n\n        .icon-container\n            transition: 1s linear\n\n            .iconfont.ChatGPT\n                font-size: 46px\n                border-radius: 10px\n\n            &.active\n                transform: rotate(180deg)\n                color: $baseColor\n\n        .title\n            white-space: nowrap\n            font-size: 50px\n            letter-spacing: 5px\n            color: black\n            margin: 25px\n\n        .hint\n            font-size: 15px\n            font-weight: 300\n\n        input\n            margin-top: 30px\n            border: 2px solid $baseColor\n            border-radius: 12px\n            width: 250px\n            height: 40px\n            padding: 0 10px\n            text-align: center\n            letter-spacing: 1px\n\n            &:focus\n                outline: 1px solid $baseColor\n\n                &::placeholder\n                    color: transparent\n\n            &::placeholder\n                text-align: center\n\n        .controls\n            display: flex\n            flex-direction: column\n            align-items: center\n\n            button\n                width: 10rem\n                margin-top: 20px\n                padding: 10px 15px\n                border-radius: 8px\n\n                &:hover\n                    box-shadow: 0 0 2px black\n\n            .later\n                background: transparent\n\n            .login\n                color: white\n                background: $baseColor\n</style>\n","<template>\n  <div id=\"settings-view\">\n    <el-button type=\"info\" plain @click=\"reset()\">重置全部</el-button>\n    <el-button type=\"info\" plain @click=\"resetCache()\">清理缓存</el-button>\n  </div>\n</template>\n\n<script>\nimport { client } from \"@/lib/runtime.js\";\n\nexport default {\n  name: \"SettingsView\",\n  data() {\n    return {};\n  },\n  methods: {\n    async reset() {\n      const result = await client.reset();\n      if (result) {\n        this.$message.success(\"重置成功\");\n        setTimeout(() => {\n          window.location.reload();\n        }, 500);\n      }\n    },\n    async resetCache() {\n      const result = await client.resetCache();\n      if (result) {\n        this.$message.success(\"清理缓存成功\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n#settings-view {\n  flex-grow: 1;\n  height: 100%;\n  background-color: #f2f2f2;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n</style>\n"],"file":"assets/js/views-HKQ_WNVw.js"}