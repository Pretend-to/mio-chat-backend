import{c as e,a as n,b as t,h as i,f as r,e as s,n as o,t as a,F as c,o as l,y as d,z as u}from"./vue-vendor-BqAcad78.js";import{_ as f,d as h,s as m,b as p,c as v}from"./components-CweFd1jJ.js";import{r as g}from"./views-DW7LkEGe.js";import"./vendor-DFekgMHq.js";import"./emoji-nU2WIqY_.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver((e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)})).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const w={key:0,class:"mio-chat-mobile"},b={key:0,id:"beian",href:"https://beian.miit.gov.cn/",target:"_blank"};const _=d(f({components:{sideBar:m,displayButtons:h},data(){const e=p.getBaseConfig();return{onPhone:window.innerWidth<600,client:v,fullScreen:e?.full_screen||!1,beian:e?.beian||"",isTauri:!(!window.__TAURI__&&!window.__TAURI_INTERNALS__)}},computed:{onPrivate(){return this.$route.path.includes("/auth")||this.$route.path.includes("/profile")||this.$route.path.includes("/chat")}},created(){const e=p.getBaseConfig();Object.keys(e).length>0?(this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title):p.setBaseConfigCallback((e=>{this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title})),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{setWindowSize(e){this.fullScreen=e,p.updateBaseConfig({full_screen:e})},handleResize(){this.onPhone=window.innerWidth<600}}},[["render",function(d,u,f,h,m,p){const v=s("router-view"),g=s("sideBar"),_=s("displayButtons");return l(),e(c,null,[n("div",{id:"app",class:o({browser:!m.isTauri})},[m.onPhone?(l(),e("div",w,[i(v),p.onPrivate?t("",!0):(l(),r(g,{key:0}))])):(l(),e("div",{key:1,class:o(["mio-chat",{fullscreen:m.fullScreen||m.isTauri}])},[i(_,{"full-screen":m.fullScreen,onSetScreen:p.setWindowSize},null,8,["full-screen","onSetScreen"]),i(g),i(v)],2))],2),m.beian?(l(),e("a",b,a(m.beian),1)):t("",!0)],64)}],["__scopeId","data-v-57350332"]]));_.use(u),_.use(g),_.mount("#app"),"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/service-worker.v4.js").then((e=>{const n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;e.active?e.active.postMessage({type:"SET_DEV_MODE",isDevMode:n}):navigator.serviceWorker.addEventListener("controllerchange",(()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SET_DEV_MODE",isDevMode:n})}))})).catch((e=>{}))}));
//# sourceMappingURL=index-BooK9gv9.js.map
