import{i as e}from"./vendor_element_plus-DbStn1xk.js";import"./vendor_editor_preview-hsMXmvV2.js";import{c as n,a as t,b as o,e as i,g as s,f as r,n as a,t as l,F as c,o as d,aQ as u}from"./vendor_vue-DNlY4buj.js";import{_ as p,e as f,g as m,d as h,c as v}from"./components-BKapeL8s.js";import{r as g}from"./views-8xxedyLx.js";import"./vendor_misc-BTiB9Zt4.js";import"./vendor_socketio-3UEp_BzY.js";import"./vendor_emoji-C7BQ2utN.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&n(e)}).observe(document,{childList:!0,subtree:!0})}function n(e){if(e.ep)return;e.ep=!0;const n=function(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?n.credentials="include":"anonymous"===e.crossOrigin?n.credentials="omit":n.credentials="same-origin",n}(e);fetch(e.href,n)}}();const _={key:0,class:"app-mobile"},w={key:0,id:"beian",href:"https://beian.miit.gov.cn/",target:"_blank"};const b=u(p({components:{sideBar:m,displayButtons:f},data(){const e=h.getBaseConfig();return{onPhone:window.innerWidth<600,client:v,fullScreen:e?.full_screen||!1,beian:e?.beian||"",isTauri:!(!window.__TAURI__&&!window.__TAURI_INTERNALS__)}},computed:{onPrivate(){return this.$route.path.includes("/auth")||this.$route.path.includes("/profile")||this.$route.path.includes("/chat")}},created(){const e=h.getBaseConfig();Object.keys(e).length>0?(this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title):h.setBaseConfigCallback(e=>{this.fullScreen=e.full_screen,this.beian=e.beian,document.title=e.title}),window.addEventListener("resize",this.handleResize)},beforeUnmount(){window.removeEventListener("resize",this.handleResize)},methods:{setWindowSize(e){this.fullScreen=e,h.updateBaseConfig({full_screen:e})},handleResize(){this.onPhone=window.innerWidth<600},closeApp(){this.$message({message:"浏览器端暂不支持关闭",type:"warning"})}}},[["render",function(e,u,p,f,m,h){const v=r("router-view"),g=r("sideBar"),b=r("displayButtons");return d(),n(c,null,[t("div",{id:"mio-chat",class:a({browser:!m.isTauri})},[m.onPhone?(d(),n("div",_,[i(v),h.onPrivate?o("",!0):(d(),s(g,{key:0}))])):(d(),n("div",{key:1,class:a(["app-desktop",{fullscreen:m.fullScreen||m.isTauri}])},[i(b,{"full-screen":m.fullScreen,onClose:h.closeApp,onSetScreen:h.setWindowSize},null,8,["full-screen","onClose","onSetScreen"]),i(g),i(v)],2))],2),m.beian?(d(),n("a",w,l(m.beian),1)):o("",!0)],64)}],["__scopeId","data-v-6b9ec869"]]));b.use(e),b.use(g),b.mount("#app"),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.v4.js").then(e=>{const n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname;e.active?e.active.postMessage({type:"SET_DEV_MODE",isDevMode:n}):navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SET_DEV_MODE",isDevMode:n})})}).catch(e=>{})});
//# sourceMappingURL=index-DuPWDtm_.js.map
