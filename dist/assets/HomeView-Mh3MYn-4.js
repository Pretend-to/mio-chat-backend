import{_ as m,c as _,o as n,a as i,b as s,F as v,r as f,t as h,n as g,p as L,d as C,e as d,f as p}from"./index-DwYT0QUF.js";const $={data(){const t=_.contactList;return{onPhone:_.onPhone,contactorList:t}},methods:{showChat(t){this.$router.push({path:"/home/chat/"+t})},getId(t){let o=this.$route.params.id,r=this.contactorList[t].id;return o==r?"active":this.contactorList[t].priority==0?"important":""}}},w=t=>(L("data-v-8ebd9321"),t=t(),C(),t),b={class:"upsidebar",id:"friends"},k=w(()=>s("div",{class:"search",id:"people"},[s("svg",{t:"1695130526763",class:"listicon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3427"},[s("path",{d:"M945.066667 898.133333l-189.866667-189.866666c55.466667-64 87.466667-149.333333 87.466667-241.066667 0-204.8-168.533333-373.333333-373.333334-373.333333S96 264.533333 96 469.333333 264.533333 842.666667 469.333333 842.666667c91.733333 0 174.933333-34.133333 241.066667-87.466667l189.866667 189.866667c6.4 6.4 14.933333 8.533333 23.466666 8.533333s17.066667-2.133333 23.466667-8.533333c8.533333-12.8 8.533333-34.133333-2.133333-46.933334zM469.333333 778.666667C298.666667 778.666667 160 640 160 469.333333S298.666667 160 469.333333 160 778.666667 298.666667 778.666667 469.333333 640 778.666667 469.333333 778.666667z","p-id":"3428"})]),s("input",{type:"text",id:"tosearch",placeholder:"搜索"})],-1)),I={class:"bu-add"},P={class:"people"},y=["onClick","id"],S={class:"avatar"},B=["src","alt"],x={class:"info"},z={class:"name"},V={class:"msginfo",id:"time"},F={class:"msginfo",id:"msgctt"};function M(t,o,r,u,a,l){return n(),i("div",{id:"friendlists",class:g(a.onPhone?"mobile":"")},[s("div",b,[k,s("div",I,[s("button",{id:"addcont",onClick:o[0]||(o[0]=(...e)=>t.addone&&t.addone(...e))},"+")])]),s("div",P,[(n(!0),i(v,null,f(a.contactorList,(e,c)=>(n(),i("div",{onClick:q=>l.showChat(e.id),key:c,class:"lists",id:l.getId(c)},[s("div",S,[s("img",{src:e.avatar,alt:e.name},null,8,B)]),s("div",x,[s("div",z,h(e.name),1),s("div",V,h(e.getLastTime()),1),s("div",F,h(e.getLastContent()),1)])],8,y))),128))])],2)}const N=m($,[["render",M],["__scopeId","data-v-8ebd9321"]]),D={data(){return{client:_,onList:null}},components:{friendlist:N},methods:{},mounted(){const t=this.$route;t.name==="toChat"||t.name==="toProfile"?this.onList=!0:t.name==="privateChat"&&(this.onList=!1)},computed:{},watch:{$route:function(t){console.log("route changed"),t.name==="toChat"||t.name==="toProfile"?this.onList=!0:t.name==="privateChat"&&(this.onList=!1)}}},E={key:0,id:"main"},H={key:1,id:"main-mobile"},T={key:2,id:"main-mobile"};function j(t,o,r,u,a,l){const e=p("friendlist"),c=p("router-view");return a.client.onPhone?a.onList||this.$route.name==="home"?(n(),i("div",H,[d(e)])):(n(),i("div",T,[d(c)])):(n(),i("div",E,[d(e),d(c)]))}const G=m(D,[["render",j]]);export{G as default};
